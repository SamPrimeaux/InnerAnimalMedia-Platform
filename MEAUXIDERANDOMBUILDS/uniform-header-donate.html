<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Donate - Support Meauxbility's Mission</title>
    <meta name="description"
        content="Support adaptive athletes and spinal cord injury survivors. Your donation funds equipment, training, and independence.">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap"
        rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <script src="https://js.stripe.com/v3/"></script>
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
    <style>
        /* =============== RESET & BASE =============== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* =============== HIGH CONTRAST COLOR SYSTEM =============== */
        :root {
            /* Brand Colors */
            --don-purple: #6B4B9B;
            --don-purple-dark: #4A2B7C;
            --don-purple-light: #8B6BB1;
            --platinum-blue: #4B9BFF;
            --meaux-green: #21C48C;
            --meaux-orange: #FF7619;
            --meaux-orange-hover: #E85D00;
            --meaux-teal: #1F97A9;
            --meaux-teal-dark: #0C2D31;

            /* High Contrast Text Colors - Dark on Light */
            --ink: #0C2D31;
            --ink-light: #2b3d41;
            --ink-muted: #4a5d62;
            --surface: #ffffff;
            --surface-light: #f7fafc;

            /* Dark/Retro Background Colors */
            --retro-dark: #0d0817;
            --retro-purple: #2A1A3E;
            --retro-deep: #1A0F2E;
            --retro-black: #050308;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            color: var(--ink);
            background: var(--surface);
            line-height: 1.6;
            min-height: 100vh;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* =============== PURPLE HERO SECTION =============== */
        .purple-hero-container {
            width: 100%;
            position: relative;
            overflow: hidden;
        }

        .purple-hero-enhanced {
            min-height: 100vh;
            display: flex;
            align-items: center;
            position: relative;
            padding: clamp(80px, 10vw, 120px) clamp(16px, 4vw, 40px);
            margin-top: 72px;
            /* Header height */

            /* Purple to Dark/Retro Gradient Background */
            background: linear-gradient(180deg,
                    #6B4B9B 0%,
                    /* Don Purple */
                    #5C3F7F 8%,
                    /* Medium purple */
                    #4A2B7C 15%,
                    /* Darker purple */
                    #3D2857 25%,
                    /* Deep purple */
                    #2A1A3E 40%,
                    /* Very dark purple */
                    #1A0F2E 60%,
                    /* Almost black purple */
                    #0d0817 80%,
                    /* Transition to near black */
                    #050308 100%
                    /* Retro black */
                );
            overflow: hidden;
            z-index: 1;
        }

        /* Subtle overlay for depth */
        .purple-hero-enhanced::before {
            content: '';
            position: absolute;
            inset: 0;
            background:
                radial-gradient(circle at 80% 20%, rgba(75, 155, 255, 0.08) 0%, transparent 50%),
                radial-gradient(circle at 20% 80%, rgba(33, 196, 140, 0.08) 0%, transparent 50%),
                radial-gradient(circle at 50% 50%, rgba(107, 75, 155, 0.1) 0%, transparent 70%);
            pointer-events: none;
            z-index: 1;
        }

        /* 3D Rocket Container - Elegant positioning */
        .purple-rocket-glb-container {
            position: absolute;
            left: 3%;
            top: 50%;
            transform: translateY(-50%);
            width: clamp(400px, 35vw, 700px);
            height: clamp(400px, 35vw, 700px);
            z-index: 2;
            opacity: 0.6;
            pointer-events: none;
            transition: opacity 0.6s ease, transform 0.6s ease;
            filter: drop-shadow(0 0 40px rgba(75, 155, 255, 0.3)) drop-shadow(0 0 80px rgba(107, 75, 155, 0.2));
        }

        .purple-rocket-glb-container:hover {
            opacity: 0.8;
            transform: translateY(-50%) scale(1.05);
        }

        .purple-rocket-glb-container model-viewer {
            width: 100%;
            height: 100%;
            background: transparent;
            --poster-color: transparent;
            --progress-bar-color: transparent;
        }

        /* Main content grid */
        .purple-hero-grid {
            display: grid;
            grid-template-columns: 1.2fr 0.8fr;
            gap: clamp(2rem, 5vw, 4rem);
            align-items: center;
            max-width: 1400px;
            margin: 0 auto;
            position: relative;
            z-index: 10;
        }

        /* Hero content card - High contrast white text on dark */
        .purple-hero-content {
            text-align: left;
            backdrop-filter: blur(20px);
            background: rgba(255, 255, 255, 0.05);
            padding: clamp(2rem, 4vw, 3.5rem);
            border-radius: 24px;
            border: 1px solid rgba(255, 255, 255, 0.12);
            position: relative;
            z-index: 5;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
        }

        .purple-hero-eyebrow {
            font-weight: 800;
            letter-spacing: 0.12em;
            text-transform: uppercase;
            color: var(--platinum-blue);
            font-size: 12px;
            margin-bottom: 1rem;
            opacity: 0;
            transform: translateY(20px);
            animation: purpleFadeInUp 0.8s cubic-bezier(0.22, 0.61, 0.36, 1) forwards;
            text-shadow: 0 0 20px rgba(75, 155, 255, 0.5);
        }

        .purple-hero-title {
            font-size: clamp(2.5rem, 5.5vw, 5rem);
            font-weight: 900;
            color: #ffffff;
            margin-bottom: 1.5rem;
            line-height: 1.1;
            opacity: 0;
            transform: translateY(30px);
            animation: purpleFadeInUp 0.8s cubic-bezier(0.22, 0.61, 0.36, 1) forwards 0.2s;
            letter-spacing: -0.02em;
            text-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
        }

        .purple-hero-title .accent {
            background: linear-gradient(135deg, var(--platinum-blue), var(--meaux-green));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            display: inline-block;
        }

        .purple-hero-subtitle {
            font-size: clamp(1.125rem, 1.8vw, 1.375rem);
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 2.5rem;
            font-weight: 500;
            line-height: 1.7;
            opacity: 0;
            transform: translateY(20px);
            animation: purpleFadeInUp 0.8s cubic-bezier(0.22, 0.61, 0.36, 1) forwards 0.4s;
            max-width: 600px;
        }

        .purple-hero-ctas {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            opacity: 0;
            transform: translateY(20px);
            animation: purpleFadeInUp 0.8s cubic-bezier(0.22, 0.61, 0.36, 1) forwards 0.6s;
        }

        .purple-cta-primary {
            padding: 1.25rem 3rem;
            background: linear-gradient(135deg, var(--meaux-green), #1ea574);
            color: #ffffff;
            border: none;
            border-radius: 12px;
            font-size: 1.2rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            box-shadow: 0 12px 32px rgba(33, 196, 140, 0.4);
            position: relative;
            overflow: hidden;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .purple-cta-primary::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .purple-cta-primary:hover::before {
            width: 300px;
            height: 300px;
        }

        .purple-cta-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 20px 40px rgba(33, 196, 140, 0.5);
        }

        .purple-cta-secondary {
            padding: 1.25rem 3rem;
            background: transparent;
            color: #ffffff;
            border: 2px solid rgba(255, 255, 255, 0.4);
            border-radius: 12px;
            font-size: 1.2rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }

        .purple-cta-secondary:hover {
            background: rgba(255, 255, 255, 0.15);
            border-color: var(--platinum-blue);
            transform: translateY(-2px);
            box-shadow: 0 0 30px rgba(75, 155, 255, 0.4);
        }

        /* Hero card with image */
        .purple-hero-card {
            position: relative;
            border-radius: 24px;
            overflow: hidden;
            background: var(--surface);
            border: 2px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 24px 48px rgba(0, 0, 0, 0.5);
            min-height: 600px;
            width: 100%;
            max-width: 450px;
            opacity: 0;
            transform: translateY(30px);
            animation: purpleFadeInUp 0.8s cubic-bezier(0.22, 0.61, 0.36, 1) forwards 1s;
            cursor: pointer;
            text-decoration: none;
            display: block;
            transition: all 0.4s cubic-bezier(0.22, 0.61, 0.36, 1);
            z-index: 5;
        }

        .purple-hero-card:hover {
            transform: scale(1.03) translateY(-5px);
            box-shadow: 0 32px 64px rgba(0, 0, 0, 0.6);
        }

        .purple-hero-media {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
            transition: transform 0.6s ease;
        }

        .purple-hero-card:hover .purple-hero-media {
            transform: scale(1.05);
        }

        .purple-hero-badge {
            position: absolute;
            right: 18px;
            top: 18px;
            background: linear-gradient(135deg, var(--don-purple), var(--don-purple-light));
            color: #ffffff;
            padding: 10px 14px;
            border-radius: 999px;
            font-weight: 900;
            font-size: 12px;
            letter-spacing: 0.08em;
            text-transform: uppercase;
            z-index: 3;
            box-shadow: 0 4px 16px rgba(107, 75, 155, 0.4);
        }

        .purple-hero-overlay {
            position: absolute;
            inset: auto 0 0 0;
            padding: 24px;
            background: linear-gradient(180deg, rgba(13, 8, 23, 0) 0%, rgba(13, 8, 23, 0.95) 100%);
            color: #ffffff;
            display: flex;
            align-items: flex-end;
            min-height: 42%;
            transition: min-height 0.3s ease;
        }

        .purple-hero-card:hover .purple-hero-overlay {
            min-height: 48%;
        }

        .purple-overlay-title {
            font-size: 24px;
            font-weight: 900;
            color: #ffffff;
            text-shadow: 0 2px 8px rgba(0, 0, 0, 0.5);
        }

        /* =============== ALLOCATION CARDS SECTION =============== */
        .allocation-section {
            background: var(--surface);
            padding: clamp(60px, 8vw, 100px) clamp(16px, 4vw, 40px);
            position: relative;
        }

        .allocation-container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .allocation-header {
            text-align: center;
            margin-bottom: clamp(40px, 6vw, 60px);
        }

        .allocation-title {
            font-size: clamp(2.5rem, 5vw, 4rem);
            font-weight: 900;
            color: var(--ink);
            margin-bottom: 1rem;
            line-height: 1.1;
            letter-spacing: -0.02em;
        }

        .allocation-subtitle {
            font-size: clamp(1.125rem, 2vw, 1.375rem);
            color: var(--ink-light);
            max-width: 700px;
            margin: 0 auto;
            line-height: 1.7;
            font-weight: 500;
        }

        .allocation-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .allocation-card {
            background: var(--surface);
            border-radius: 24px;
            padding: 2.5rem;
            border: 2px solid rgba(12, 45, 49, 0.1);
            box-shadow: 0 8px 32px rgba(12, 45, 49, 0.08);
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .allocation-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--meaux-orange);
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }

        .allocation-card:nth-child(2)::before {
            background: var(--meaux-teal);
        }

        .allocation-card:nth-child(3)::before {
            background: var(--meaux-green);
        }

        .allocation-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 16px 48px rgba(12, 45, 49, 0.15);
            border-color: var(--meaux-orange);
        }

        .allocation-card:hover::before {
            transform: scaleX(1);
        }

        .allocation-card:nth-child(2):hover {
            border-color: var(--meaux-teal);
        }

        .allocation-card:nth-child(3):hover {
            border-color: var(--meaux-green);
        }

        .allocation-card-title {
            font-size: 1.75rem;
            font-weight: 800;
            color: var(--ink);
            margin-bottom: 0.5rem;
            line-height: 1.2;
        }

        .allocation-card-subtitle {
            font-size: 1rem;
            font-weight: 500;
            color: var(--ink-muted);
            margin-bottom: 1.5rem;
        }

        .allocation-percentage {
            font-size: 4rem;
            font-weight: 900;
            color: var(--meaux-orange);
            margin-bottom: 1.5rem;
            line-height: 1;
            text-shadow: 0 0 20px rgba(255, 118, 25, 0.2);
        }

        .allocation-card:nth-child(2) .allocation-percentage {
            color: var(--meaux-teal);
            text-shadow: 0 0 20px rgba(31, 151, 169, 0.2);
        }

        .allocation-card:nth-child(3) .allocation-percentage {
            color: var(--meaux-green);
            text-shadow: 0 0 20px rgba(33, 196, 140, 0.2);
        }

        .allocation-description {
            font-size: 1.125rem;
            color: var(--ink-light);
            line-height: 1.7;
            margin-bottom: 1.5rem;
            flex-grow: 1;
        }

        .allocation-description em {
            color: var(--meaux-orange);
            font-weight: 600;
            font-style: normal;
        }

        .allocation-card:nth-child(2) .allocation-description em {
            color: var(--meaux-teal);
        }

        .allocation-card:nth-child(3) .allocation-description em {
            color: var(--meaux-green);
        }

        .allocation-examples {
            display: flex;
            gap: 0.75rem;
            flex-wrap: wrap;
            margin-bottom: 1.5rem;
        }

        .allocation-tag {
            background: rgba(12, 45, 49, 0.08);
            padding: 8px 14px;
            border-radius: 20px;
            font-size: 0.9rem;
            color: var(--ink-light);
            font-weight: 500;
            border: 1px solid rgba(12, 45, 49, 0.1);
        }

        .allocation-button {
            background: linear-gradient(135deg, var(--meaux-orange), var(--meaux-orange-hover));
            border: none;
            color: #ffffff;
            font-size: 1rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            cursor: pointer;
            padding: 14px 28px;
            border-radius: 12px;
            transition: all 0.3s ease;
            width: 100%;
            margin-top: auto;
        }

        .allocation-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(255, 118, 25, 0.4);
        }

        .allocation-card:nth-child(2) .allocation-button {
            background: linear-gradient(135deg, var(--meaux-teal), var(--meaux-teal-dark));
        }

        .allocation-card:nth-child(2) .allocation-button:hover {
            box-shadow: 0 10px 30px rgba(31, 151, 169, 0.4);
        }

        .allocation-card:nth-child(3) .allocation-button {
            background: linear-gradient(135deg, var(--meaux-green), #1ea574);
        }

        .allocation-card:nth-child(3) .allocation-button:hover {
            box-shadow: 0 10px 30px rgba(33, 196, 140, 0.4);
        }

        /* =============== DONATION MODAL =============== */
        .purple-modal-backdrop {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(5, 27, 30, 0.96);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            padding: 1rem;
        }

        .purple-modal-backdrop.active {
            opacity: 1;
            pointer-events: auto;
        }

        .purple-modal-dark {
            width: min(680px, 95vw);
            max-height: 85vh;
            background: #0d1117;
            border: 2px solid #339999;
            border-radius: 20px;
            box-shadow: 0 0 0 1px #339999, 0 24px 48px rgba(0, 0, 0, 0.6);
            overflow: hidden;
            transform: scale(0.9) translateY(20px);
            transition: transform 0.3s ease;
        }

        .purple-modal-backdrop.active .purple-modal-dark {
            transform: scale(1) translateY(0);
        }

        .purple-modal-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 1.5rem;
            border-bottom: 1px solid #30363d;
            background: linear-gradient(135deg, rgba(51, 153, 153, 0.1) 0%, rgba(255, 107, 0, 0.1) 100%);
            position: relative;
        }

        .purple-modal-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #339999, #FF6B00, #21C48C);
        }

        .purple-modal-title {
            font-weight: 800;
            color: #ffffff;
            font-size: 1.5rem;
            margin: 0;
        }

        .purple-modal-subtitle {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
            margin-top: 0.25rem;
        }

        .purple-modal-close {
            appearance: none;
            border: 0;
            background: transparent;
            cursor: pointer;
            padding: 8px;
            border-radius: 8px;
            font-size: 1.5rem;
            color: #ffffff;
            transition: all 0.3s ease;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .purple-modal-close::before,
        .purple-modal-close::after {
            content: '';
            position: absolute;
            width: 20px;
            height: 2px;
            background: #ffffff;
            transition: all 0.3s ease;
        }

        .purple-modal-close::before {
            transform: rotate(45deg);
        }

        .purple-modal-close::after {
            transform: rotate(-45deg);
        }

        .purple-modal-close:hover {
            background: rgba(255, 107, 0, 0.2);
        }

        .purple-modal-close:hover::before,
        .purple-modal-close:hover::after {
            background: #FF6B00;
        }

        .purple-modal-body {
            padding: 1.5rem;
            max-height: calc(85vh - 100px);
            overflow-y: auto;
        }

        .purple-modal-body::-webkit-scrollbar {
            width: 8px;
        }

        .purple-modal-body::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 4px;
        }

        .purple-modal-body::-webkit-scrollbar-thumb {
            background: rgba(51, 153, 153, 0.3);
            border-radius: 4px;
        }

        .purple-donate-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            align-items: start;
        }

        .purple-donate-options {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid #30363d;
            border-radius: 12px;
            padding: 1.5rem;
        }

        .purple-option-title {
            font-size: 1.125rem;
            font-weight: 700;
            color: #ffffff;
            margin-bottom: 1rem;
        }

        .purple-frequency-toggle {
            display: flex;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            padding: 4px;
            margin-bottom: 1rem;
        }

        .purple-frequency-btn {
            flex: 1;
            padding: 0.625rem;
            background: transparent;
            border: none;
            color: rgba(255, 255, 255, 0.7);
            font-weight: 600;
            cursor: pointer;
            border-radius: 6px;
            transition: all 0.2s;
            font-size: 0.875rem;
        }

        .purple-frequency-btn.active {
            background: #339999;
            color: #ffffff;
        }

        .purple-amount-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 0.5rem;
            margin-bottom: 0.75rem;
        }

        .purple-amount-btn {
            padding: 0.75rem;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid #30363d;
            border-radius: 8px;
            color: #ffffff;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 0.875rem;
        }

        .purple-amount-btn:hover {
            background: rgba(51, 153, 153, 0.2);
            border-color: #339999;
        }

        .purple-amount-btn.selected {
            background: rgba(255, 107, 0, 0.3);
            border-color: #FF6B00;
            color: #ffffff;
        }

        .purple-custom-amount {
            width: 100%;
            padding: 0.75rem;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid #30363d;
            border-radius: 8px;
            color: #ffffff;
            font-size: 0.875rem;
            margin-bottom: 0.75rem;
        }

        .purple-custom-amount::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        .purple-custom-amount:focus {
            outline: none;
            border-color: #339999;
            box-shadow: 0 0 0 3px rgba(51, 153, 153, 0.2);
        }

        .purple-designation select {
            width: 100%;
            padding: 0.75rem;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid #30363d;
            border-radius: 8px;
            color: #ffffff;
            font-size: 0.875rem;
        }

        .purple-designation select option {
            background: #0d1117;
            color: #ffffff;
        }

        .purple-donor-info {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid #30363d;
            border-radius: 12px;
            padding: 1.5rem;
        }

        .purple-form-group {
            margin-bottom: 1rem;
        }

        .purple-form-group label {
            display: block;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 0.5rem;
            font-weight: 600;
            font-size: 0.875rem;
        }

        .purple-form-input {
            width: 100%;
            padding: 0.75rem;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid #30363d;
            border-radius: 8px;
            color: #ffffff;
            font-size: 0.875rem;
            font-family: inherit;
        }

        .purple-form-input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        .purple-form-input:focus {
            outline: none;
            border-color: #339999;
            box-shadow: 0 0 0 3px rgba(51, 153, 153, 0.2);
        }

        .purple-name-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.75rem;
        }

        .purple-stripe-element {
            padding: 0.75rem;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid #30363d;
            border-radius: 8px;
        }

        .purple-donate-submit {
            width: 100%;
            padding: 1rem;
            background: linear-gradient(135deg, #FF6B00, #E85D00);
            color: #ffffff;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 1rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .purple-donate-submit:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(255, 107, 0, 0.4);
        }

        .purple-donate-submit:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .purple-security-notice {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            margin-top: 1rem;
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.75rem;
        }

        body.purple-modal-open {
            overflow: hidden;
        }

        /* =============== APPLICATION MODAL SYSTEM =============== */
        .application-modal-backdrop {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.75);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10001;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            padding: 20px;
            overflow-y: auto;
        }

        .application-modal-backdrop.active {
            opacity: 1;
            visibility: visible;
        }

        .application-modal {
            max-width: 600px;
            width: 100%;
            max-height: 90vh;
            background: #ffffff;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            position: relative;
            transform: scale(0.9) translateY(20px);
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .application-modal-backdrop.active .application-modal {
            transform: scale(1) translateY(0);
        }

        .application-modal-header {
            text-align: center;
            padding: 30px 30px 20px;
            border-bottom: 1px solid rgba(12, 45, 49, 0.1);
            position: relative;
        }

        .application-modal-title {
            font-size: 1.75rem;
            font-weight: 800;
            color: var(--ink);
            margin-bottom: 8px;
            line-height: 1.2;
        }

        .application-modal-subtitle {
            font-size: 1rem;
            color: var(--ink-light);
            line-height: 1.5;
        }

        .application-modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            background: transparent;
            border: none;
            cursor: pointer;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10;
            padding: 8px;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .application-modal-close:hover {
            background: rgba(12, 45, 49, 0.08);
        }

        .application-modal-close-icon {
            display: block;
            width: 20px;
            height: 2px;
            background: var(--ink-light);
            position: relative;
            transition: all 0.3s ease;
        }

        .application-modal-close-icon::before,
        .application-modal-close-icon::after {
            content: '';
            position: absolute;
            width: 20px;
            height: 2px;
            background: var(--ink-light);
            top: 0;
            left: 0;
            transition: all 0.3s ease;
        }

        .application-modal-close-icon::before {
            transform: rotate(45deg);
        }

        .application-modal-close-icon::after {
            transform: rotate(-45deg);
        }

        .application-modal-close:hover .application-modal-close-icon,
        .application-modal-close:hover .application-modal-close-icon::before,
        .application-modal-close:hover .application-modal-close-icon::after {
            background: var(--ink);
        }

        .application-modal-body {
            flex: 1;
            overflow-y: auto;
            padding: 30px;
        }

        .application-modal-body::-webkit-scrollbar {
            width: 8px;
        }

        .application-modal-body::-webkit-scrollbar-track {
            background: rgba(12, 45, 49, 0.05);
            border-radius: 4px;
        }

        .application-modal-body::-webkit-scrollbar-thumb {
            background: rgba(12, 45, 49, 0.2);
            border-radius: 4px;
        }

        .application-modal-body::-webkit-scrollbar-thumb:hover {
            background: rgba(12, 45, 49, 0.3);
        }

        .application-form-group {
            margin-bottom: 20px;
        }

        .application-form-label {
            display: block;
            font-size: 0.95rem;
            font-weight: 600;
            color: var(--ink);
            margin-bottom: 8px;
        }

        .application-form-input,
        .application-form-textarea,
        .application-form-select {
            width: 100%;
            padding: 12px 16px;
            background: #ffffff;
            border: 2px solid rgba(12, 45, 49, 0.15);
            border-radius: 10px;
            color: var(--ink);
            font-size: 1rem;
            transition: all 0.3s ease;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
        }

        .application-form-input:focus,
        .application-form-textarea:focus,
        .application-form-select:focus {
            outline: none;
            border-color: var(--meaux-teal);
            box-shadow: 0 0 0 3px rgba(31, 151, 169, 0.1);
        }

        .application-form-textarea {
            min-height: 120px;
            resize: vertical;
        }

        .application-modal-footer {
            padding: 20px 30px;
            border-top: 1px solid rgba(12, 45, 49, 0.1);
        }

        .application-submit-button {
            background: linear-gradient(135deg, var(--meaux-orange), var(--meaux-orange-hover));
            color: #ffffff;
            border: none;
            padding: 14px 32px;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            width: 100%;
            box-shadow: 0 4px 16px rgba(255, 118, 25, 0.3);
        }

        .application-submit-button:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(255, 118, 25, 0.4);
        }

        .application-submit-button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .application-success-message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            background: linear-gradient(135deg, var(--meaux-green), #1ea574);
            color: #ffffff;
            padding: 30px 40px;
            border-radius: 16px;
            font-size: 1.1rem;
            font-weight: 700;
            text-align: center;
            box-shadow: 0 20px 60px rgba(33, 196, 140, 0.4);
            z-index: 20000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .application-success-message.visible {
            opacity: 1;
            visibility: visible;
            transform: translate(-50%, -50%) scale(1);
        }

        @media (max-width: 768px) {
            .application-modal {
                max-height: 95vh;
                margin: 10px;
            }

            .application-modal-header {
                padding: 24px 24px 16px;
            }

            .application-modal-body {
                padding: 24px;
            }

            .application-modal-footer {
                padding: 16px 24px;
            }
        }

        /* =============== RESPONSIVE =============== */
        @media (max-width: 980px) {
            .purple-hero-enhanced {
                margin-top: 72px;
            }

            .purple-hero-grid {
                grid-template-columns: 1fr;
                gap: 2rem;
            }

            .purple-rocket-glb-container {
                left: 50%;
                transform: translateX(-50%) translateY(-50%);
                width: clamp(300px, 50vw, 500px);
                height: clamp(300px, 50vw, 500px);
                opacity: 0.4;
                z-index: 1;
            }

            .purple-hero-content {
                z-index: 10;
                background: rgba(255, 255, 255, 0.08);
            }

            .purple-hero-card {
                margin: 0 auto;
                max-width: 100%;
            }

            .allocation-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 640px) {
            .purple-rocket-glb-container {
                width: 280px;
                height: 280px;
                opacity: 0.3;
            }

            .purple-hero-ctas {
                flex-direction: column;
                width: 100%;
            }

            .purple-cta-primary,
            .purple-cta-secondary {
                width: 100%;
                text-align: center;
            }

            .purple-donate-grid {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }

            .purple-name-grid {
                grid-template-columns: 1fr;
            }
        }

        @keyframes purpleFadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @media (prefers-reduced-motion: reduce) {

            *,
            *::before,
            *::after {
                transition: none !important;
                animation: none !important;
            }
        }
    </style>
    
    <style>
    :root {
      --footer-teal: #339999;
      --footer-teal-mid: #2C8B8B;
      --footer-teal-dark: #237373;
      --footer-orange: #FF6B35;
      --footer-orange-dark: #E85D00;
      --footer-purple: #9945FF;
      --footer-purple-dark: #7928CA;
      --footer-purple-light: rgba(153,69,255,0.15);
      --footer-white: #ffffff;
      --footer-white-90: rgba(255,255,255,0.9);
      --footer-white-85: rgba(255,255,255,0.85);
      --footer-white-70: rgba(255,255,255,0.7);
      --footer-white-50: rgba(255,255,255,0.5);
      --footer-white-30: rgba(255,255,255,0.3);
      --footer-white-15: rgba(255,255,255,0.15);
      --footer-white-10: rgba(255,255,255,0.1);
      --footer-white-05: rgba(255,255,255,0.05);
      --footer-max-width: 1440px;
      --footer-transition: all 0.3s cubic-bezier(0.4,0,0.2,1);
      --footer-transition-bounce: all 0.3s cubic-bezier(0.175,0.885,0.32,1.275);
    }
    [data-theme="light"] {
      --footer-bg-start: var(--footer-teal);
      --footer-bg-mid: var(--footer-teal-mid);
      --footer-bg-end: var(--footer-teal-dark);
      --footer-accent: var(--footer-orange);
      --footer-accent-hover: var(--footer-orange-dark);
      --footer-btn-bg: linear-gradient(135deg, var(--footer-orange) 0%, var(--footer-orange-dark) 100%);
      --footer-glow: var(--footer-orange);
      --modal-bg: linear-gradient(135deg, rgba(26,74,82,0.95) 0%, rgba(42,107,117,0.9) 100%);
      --modal-border: rgba(74,171,184,0.3);
      --modal-accent: var(--footer-orange);
    }
    [data-theme="dark"] {
      --footer-bg-start: #1a1a2e;
      --footer-bg-mid: #16213e;
      --footer-bg-end: #0f1c2e;
      --footer-accent: var(--footer-purple);
      --footer-accent-hover: var(--footer-purple-dark);
      --footer-btn-bg: linear-gradient(135deg, var(--footer-purple) 0%, var(--footer-purple-dark) 100%);
      --footer-glow: var(--footer-purple);
      --modal-bg: linear-gradient(135deg, #0a0e27 0%, #1a0033 100%);
      --modal-border: rgba(153,69,255,0.3);
      --modal-accent: var(--footer-purple);
    }
    .mbx-footer {
      background: linear-gradient(180deg, var(--footer-bg-start) 0%, var(--footer-bg-mid) 50%, var(--footer-bg-end) 100%);
      color: var(--footer-white);
      position: relative;
      overflow: hidden;
      padding: 64px 0 32px;
      flex-shrink: 0;
      margin-top: auto;
      transition: background 0.6s cubic-bezier(0.23,1,0.32,1);
    }
    .mbx-footer-container {
      max-width: var(--footer-max-width);
      margin: 0 auto;
      padding: 0 40px;
      position: relative;
      z-index: 2;
    }
    .mbx-footer-grid {
      display: grid;
      grid-template-columns: 2fr 1fr 1fr 1fr;
      gap: 48px;
      margin-bottom: 48px;
    }
    .mbx-footer-brand { grid-column: 1; }
    .mbx-footer-logo {
      display: inline-block;
      margin-bottom: 12px;
      transition: var(--footer-transition);
      text-decoration: none;
    }
    .mbx-footer-logo img {
      width: 220px;
      height: auto;
      display: block;
      filter: drop-shadow(0 4px 16px rgba(0,0,0,0.3));
      transition: var(--footer-transition);
    }
    .mbx-footer-logo:hover img {
      transform: translateY(-4px) scale(1.03);
      filter: drop-shadow(0 8px 24px var(--footer-glow));
    }
    .mbx-footer-social {
      display: inline-flex;
      gap: 12px;
      margin-bottom: 20px;
    }
    .mbx-social-link {
      width: 44px;
      height: 44px;
      border: 2px solid var(--footer-accent);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--footer-accent);
      text-decoration: none;
      transition: var(--footer-transition);
      background: rgba(255,107,53,0.1);
      position: relative;
      overflow: hidden;
    }
    .mbx-social-link:hover {
      color: var(--footer-white);
      transform: translateY(-3px) scale(1.05);
      box-shadow: 0 8px 20px rgba(255,107,53,0.35);
    }
    .mbx-social-link svg {
      width: 20px;
      height: 20px;
      position: relative;
      z-index: 1;
    }
    .mbx-footer-brand p {
      font-size: clamp(16px, 2vw, 18px);
      line-height: 1.7;
      color: var(--footer-white-85);
      max-width: 480px;
      margin-bottom: 20px;
      font-weight: 500;
    }
    .mbx-footer-cta {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      margin-bottom: 24px;
    }
    .mbx-btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 14px 24px;
      border-radius: 12px;
      font-weight: 700;
      font-size: 14px;
      text-decoration: none;
      transition: var(--footer-transition-bounce);
      cursor: pointer;
      border: none;
      min-height: 48px;
      letter-spacing: 0.3px;
    }
    .mbx-btn-primary {
      background: var(--footer-btn-bg);
      color: var(--footer-white);
      box-shadow: 0 4px 16px rgba(0,0,0,0.25);
    }
    .mbx-btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 24px rgba(0,0,0,0.3);
    }
    .mbx-btn-outline {
      color: var(--footer-accent);
      background: transparent;
      border: 2px solid var(--footer-accent);
    }
    .mbx-btn-outline:hover {
      color: var(--footer-white);
      background: var(--footer-accent);
      transform: translateY(-2px);
    }
    .mbx-newsletter {
      margin-top: 16px;
      padding: 20px;
      background: var(--footer-white-10);
      border-radius: 16px;
      border: 1px solid var(--footer-white-15);
      backdrop-filter: blur(10px);
    }
    .mbx-newsletter h4 {
      color: var(--footer-white);
      font-size: 18px;
      font-weight: 700;
      margin-bottom: 8px;
    }
    .mbx-newsletter-form {
      display: flex;
      gap: 10px;
      margin-top: 12px;
    }
    .mbx-newsletter-input {
      flex: 1;
      padding: 12px 16px;
      border: 1px solid var(--footer-white-30);
      border-radius: 10px;
      background: var(--footer-white-10);
      color: var(--footer-white);
      font-size: 14px;
      transition: var(--footer-transition);
      font-family: 'Inter', sans-serif;
    }
    .mbx-newsletter-input:focus {
      outline: none;
      border-color: var(--footer-accent);
      background: var(--footer-white-15);
      box-shadow: 0 0 0 3px rgba(255,107,53,0.2);
    }
    .mbx-newsletter-btn {
      padding: 12px 20px;
      background: var(--footer-accent);
      color: var(--footer-white);
      border: none;
      border-radius: 10px;
      font-weight: 700;
      font-size: 14px;
      cursor: pointer;
      transition: var(--footer-transition);
      white-space: nowrap;
    }
    .mbx-newsletter-btn:hover {
      background: var(--footer-accent-hover);
      transform: translateY(-2px);
    }
    .mbx-footer-column h4 {
      color: var(--footer-white);
      font-size: clamp(16px, 2vw, 19px);
      font-weight: 800;
      text-transform: uppercase;
      letter-spacing: 1px;
      margin-bottom: 16px;
    }
    .mbx-footer-column:nth-child(2) h4,
    .mbx-footer-column:nth-child(3) h4,
    .mbx-footer-column:nth-child(4) h4 {
      color: var(--footer-accent);
    }
    .mbx-footer-links {
      list-style: none;
    }
    .mbx-footer-links li {
      margin-bottom: 12px;
    }
    .mbx-footer-links a {
      color: var(--footer-white-70);
      text-decoration: none;
      font-size: 14px;
      font-weight: 500;
      transition: var(--footer-transition);
      display: inline-block;
    }
    .mbx-footer-links a:hover {
      color: var(--footer-accent);
      transform: translateX(4px);
    }
    .mbx-footer-dashboard-link {
      font-weight: 600 !important;
      color: var(--footer-accent) !important;
      position: relative;
    }
    .mbx-footer-dashboard-link::before {
      content: 'âš¡';
      margin-right: 4px;
      display: inline-block;
    }
    .mbx-footer-dashboard-link:hover {
      color: var(--footer-white) !important;
      text-shadow: 0 0 8px var(--footer-glow);
    }
    .mbx-footer-bottom {
      padding-top: 28px;
      border-top: 1px solid var(--footer-white-15);
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 20px;
      flex-wrap: wrap;
    }
    .mbx-footer-legal {
      display: flex;
      gap: 16px;
      flex-wrap: wrap;
      align-items: center;
    }
    .mbx-footer-legal a {
      color: var(--footer-white-70);
      text-decoration: none;
      font-size: 13px;
      font-weight: 500;
      transition: var(--footer-transition);
    }
    .mbx-footer-legal a:hover {
      color: var(--footer-accent);
    }
    .mbx-footer-copyright {
      font-size: 13px;
      font-weight: 500;
      color: var(--footer-white-70);
    }
    .mbx-footer-copyright a {
      color: inherit;
      text-decoration: none;
      transition: opacity 0.3s ease;
    }
    .mbx-footer-copyright a:hover {
      opacity: 1;
    }
    .mbx-footer-copyright img {
      vertical-align: middle;
      transition: opacity 0.3s ease;
    }
    @media (max-width: 1024px) {
      .mbx-footer-grid {
        grid-template-columns: 1fr 1fr;
        gap: 40px;
      }
      .mbx-footer-brand { grid-column: 1 / -1; }
    }
    @media (max-width: 768px) {
      .mbx-footer-grid {
        grid-template-columns: 1fr;
        gap: 32px;
      }
      .mbx-footer-logo img { width: 180px; }
      .mbx-footer-bottom {
        flex-direction: column;
        text-align: center;
      }
      .mbx-footer-legal { justify-content: center; }
      .mbx-footer-cta { flex-direction: column; }
      .mbx-btn { width: 100%; }
      .mbx-newsletter-form { flex-direction: column; }
      .mbx-newsletter-input,
      .mbx-newsletter-btn { width: 100%; }
    }
    </style>
    
</head>

<body>
<a href="#main" class="skip-link">Skip to main content</a>

<header class="nav" id="nav" role="banner">
<div class="nav-container">
<a href="/dashboard" class="nav-logo" aria-label="Meauxbility Dashboard">
<img src="https://imagedelivery.net/g7wf09fCONpnidkRnR_5vw/e6e1daec-6dcd-4269-eaf0-820275984a00/public" alt="Meauxbility" width="180" height="42">
</a>

<nav aria-label="Main navigation">
<ul class="nav-menu">
<li><a class="nav-link" href="/">Home</a></li>
<li><a class="nav-link" href="/pages/about-us">About</a></li>
<li><a class="nav-link" href="/pages/mobility-grants-programs">Programs</a></li>
<li><a class="nav-link" href="/pages/community">Community</a></li>
<li><a class="nav-link" href="/pages/resources-and-information">Resources</a></li>
<li><a class="nav-link" href="/pages/get-involved">Connect</a></li>
<li><a class="nav-cta" href="/pages/donate">Impact</a></li>
</ul>
</nav>

<button class="burger" id="burger" aria-label="Toggle navigation menu" aria-expanded="false">
<span></span><span></span><span></span>
</button>
</div>
</header>

<div class="sidenav-overlay" id="sidenavOverlay"></div>

<nav class="sidenav" id="sidenav" aria-label="Mobile navigation">
<div class="sidenav-header">
<div class="sidenav-logo">
<img src="https://imagedelivery.net/g7wf09fCONpnidkRnR_5vw/e6e1daec-6dcd-4269-eaf0-820275984a00/public" alt="Meauxbility">
</div>
<button class="sidenav-close" id="sidenavClose" aria-label="Close navigation menu">
<svg viewBox="0 0 24 24" fill="none">
<path d="M18 6L6 18M6 6l12 12" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
</button>
</div>
<div class="sidenav-content">
<ul class="sidenav-nav">
<li><a href="/" class="sidenav-link">Home</a></li>
<li><a href="/pages/about-us" class="sidenav-link">About</a></li>
<li><a href="/pages/mobility-grants-programs" class="sidenav-link">Programs</a></li>
<li><a href="/pages/community" class="sidenav-link">Community</a></li>
<li><a href="/pages/resources-and-information" class="sidenav-link">Resources</a></li>
<li><a href="/pages/get-involved" class="sidenav-link">Connect</a></li>
</ul>
<a class="sidenav-cta" href="/pages/donate">Impact</a>
</div>
</nav>

<script>
(()=>{
const $=s=>document.querySelector(s),$$=s=>document.querySelectorAll(s),body=document.body;
const darkPages=['about','community','resources'];
function initTheme(){const path=location.pathname;let theme='light';darkPages.forEach(p=>{if(path.includes(p))theme='dark'});document.documentElement.setAttribute('data-theme',theme);body.setAttribute('data-theme',theme)}
initTheme();
const nav=$('#nav');
addEventListener('scroll',()=>nav.classList.toggle('scrolled',pageYOffset>50),{passive:!0});
const burger=$('#burger'),sidenav=$('#sidenav'),overlay=$('#sidenavOverlay'),close=$('#sidenavClose');
function open(){burger.classList.add('open');burger.setAttribute('aria-expanded','true');sidenav.classList.add('open');overlay.classList.add('open');body.classList.add('modal-open')}
function shut(){burger.classList.remove('open');burger.setAttribute('aria-expanded','false');sidenav.classList.remove('open');overlay.classList.remove('open');body.classList.remove('modal-open')}
burger.addEventListener('click',()=>burger.classList.contains('open')?shut():open());
close.addEventListener('click',shut);
overlay.addEventListener('click',shut);
$$('.sidenav-link,.sidenav-cta').forEach(l=>l.addEventListener('click',shut));
function setActive(){const path=location.pathname;$$('.nav-link,.sidenav-link').forEach(l=>{l.classList.remove('active');const href=l.getAttribute('href');if(href===path||(path==='/'&&href==='/'))l.classList.add('active')})}
addEventListener('keydown',e=>{if(e.key==='Escape'&&sidenav.classList.contains('open'))shut()});
addEventListener('DOMContentLoaded',()=>{setActive();initTheme()});
addEventListener('popstate',()=>{setActive();initTheme()});
})();
</script>


<section class="purple-hero-container">
        <div class="purple-hero-enhanced" id="purpleHeroMain">
            <!-- 3D Rocket GLB - Elegant Display -->
            <div class="purple-rocket-glb-container" id="purpleRocketContainer">
                <model-viewer
                    src="https://cdn.shopify.com/3d/models/ba3d2c5ba2a0e1d1/Rocket_Growth_Chart_0831082632_generate.glb"
                    alt="Growth rocket 3D animation" camera-orbit="0deg 90deg 8m" field-of-view="30deg" disable-zoom
                    disable-pan disable-tap interaction-prompt="none" shadow-intensity="0" exposure="1.4" auto-rotate
                    rotation-per-second="15deg" environment-image="neutral">
                </model-viewer>
            </div>

            <!-- Main Content -->
            <div class="purple-hero-grid">
                <div class="purple-hero-content">
                    <div class="purple-hero-eyebrow">501(c)(3) â€¢ MORE OPTIONS. MORE ACCESS. MORE LIFE.</div>
                    <h1 class="purple-hero-title">
                        Invest in <span class="accent">Independence</span>
                    </h1>
                    <p class="purple-hero-subtitle">
                        Sponsor DonMichael's wheelchair so this Warrior has equipment built to handle his InnerAnimal!
                        Every donation transforms obstacles into pathways for adaptive athletes.
                    </p>
                    <div class="purple-hero-ctas">
                        <button class="purple-cta-primary" onclick="openDonationModal()">Donate Now</button>
                        <button class="purple-cta-secondary"
                            onclick="window.location.href='/pages/donmichael-our-first-campaign'">Learn More</button>
                    </div>
                </div>

                <a href="/pages/donmichael-our-first-campaign" class="purple-hero-card">
                    <span class="purple-hero-badge">CAMPAIGN</span>
                    <img src="https://cdn.shopify.com/s/files/1/0685/1654/4672/files/sam_n_don.jpg?v=1757571030"
                        alt="Sam and DonMichael - Adapt & Overcome" class="purple-hero-media" loading="eager">
                    <div class="purple-hero-overlay">
                        <div class="purple-overlay-title">"Adapt & Overcome"</div>
                    </div>
                </a>
            </div>
        </div>
    </section>

    <!-- Allocation Cards Section -->
    <section class="allocation-section">
        <div class="allocation-container">
            <div class="allocation-header">
                <h2 class="allocation-title">How We Allocate Donations</h2>
                <p class="allocation-subtitle">Your gift powers three core areasâ€”ensuring every dollar drives impact.
                </p>
            </div>

            <div class="allocation-grid">
                <!-- InnerAnimal Fund Card -->
                <div class="allocation-card">
                    <h3 class="allocation-card-title">InnerAnimal Fund</h3>
                    <div class="allocation-card-subtitle">Training & Therapy Programs</div>
                    <div class="allocation-percentage">45%</div>
                    <p class="allocation-description">
                        Adaptive coaching sessions, specialized therapy programs, and competition preparation.
                        <em>Currently funding athlete training regimens.</em>
                    </p>
                    <div class="allocation-examples">
                        <span class="allocation-tag">â€¢ $25 = 1 hour coaching</span>
                        <span class="allocation-tag">â€¢ $100 = Week of training</span>
                    </div>
                    <button class="allocation-button" onclick="openApplicationModal('inneranimal')">Apply
                        for Support</button>
                </div>

                <!-- Equipment Fund Card -->
                <div class="allocation-card">
                    <h3 class="allocation-card-title">Equipment Fund</h3>
                    <div class="allocation-card-subtitle">Wheelchairs, Gear & Modifications</div>
                    <div class="allocation-percentage">45%</div>
                    <p class="allocation-description">
                        Racing wheelchairs, adaptive equipment, and home modifications that remove barriers to athletic
                        achievement. <em>Equipment replacement is our top priority.</em>
                    </p>
                    <div class="allocation-examples">
                        <span class="allocation-tag">â€¢ $500 = Equipment maintenance</span>
                        <span class="allocation-tag">â€¢ $10,000 = Wheelchair replacement</span>
                    </div>
                    <button class="allocation-button" onclick="openApplicationModal('equipment')">Request
                        Equipment</button>
                </div>

                <!-- Operations Card -->
                <div class="allocation-card">
                    <h3 class="allocation-card-title">Operations</h3>
                    <div class="allocation-card-subtitle">Outreach & Partnerships</div>
                    <div class="allocation-percentage">10%</div>
                    <p class="allocation-description">
                        Essential operations to find more athletes, build partnerships, and amplify our reach in the
                        community.
                    </p>
                    <div class="allocation-examples">
                        <span class="allocation-tag">â€¢ Website & technology</span>
                        <span class="allocation-tag">â€¢ Community events</span>
                    </div>
                    <button class="allocation-button" onclick="openApplicationModal('operations')">Join Our
                        Team</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Donation Modal -->
    <div class="purple-modal-backdrop" id="purpleDonationModal">
        <div class="purple-modal-dark">
            <div class="purple-modal-header">
                <div>
                    <h3 class="purple-modal-title">Support Meauxbility</h3>
                    <p class="purple-modal-subtitle">Every dollar transforms lives</p>
                </div>
                <button class="purple-modal-close" onclick="closePurpleDonationModal(event)"
                    aria-label="Close modal"></button>
            </div>
            <div class="purple-modal-body">
                <div class="purple-donate-grid">
                    <div class="purple-donate-options">
                        <h3 class="purple-option-title">Choose Your Gift</h3>

                        <div class="purple-frequency-toggle">
                            <button type="button" class="purple-frequency-btn active"
                                onclick="setPurpleFrequency('one_time', this)">One Time</button>
                            <button type="button" class="purple-frequency-btn"
                                onclick="setPurpleFrequency('monthly', this)">Monthly</button>
                        </div>
                        <div class="purple-amount-grid">
                            <button type="button" class="purple-amount-btn"
                                onclick="selectPurpleAmount(25, this)">$25</button>
                            <button type="button" class="purple-amount-btn"
                                onclick="selectPurpleAmount(50, this)">$50</button>
                            <button type="button" class="purple-amount-btn"
                                onclick="selectPurpleAmount(100, this)">$100</button>
                            <button type="button" class="purple-amount-btn selected"
                                onclick="selectPurpleAmount(250, this)">$250</button>
                            <button type="button" class="purple-amount-btn"
                                onclick="selectPurpleAmount(500, this)">$500</button>
                            <button type="button" class="purple-amount-btn"
                                onclick="selectPurpleAmount(1000, this)">$1k</button>
                        </div>
                        <input type="number" class="purple-custom-amount" id="purpleCustomAmount"
                            placeholder="Custom amount" min="1" oninput="selectPurpleCustomAmount(this.value)">
                        <div class="purple-designation">
                            <select id="purpleDonationDesignation">
                                <option value="donmichael" selected>DonMichael's Wheelchair</option>
                                <option value="general">Where Most Needed</option>
                                <option value="samscar">Sam's Car Fund</option>
                                <option value="recovery">Recovery Grant Program</option>
                                <option value="equipment">Adaptive Athletes Equipment Fund</option>
                            </select>
                        </div>
                    </div>
                    <div class="purple-donor-info">
                        <h3 class="purple-option-title">Your Information</h3>

                        <div class="purple-name-grid">
                            <div class="purple-form-group">
                                <label for="purpleFirstName">First Name *</label>
                                <input type="text" class="purple-form-input" id="purpleFirstName" required>
                            </div>
                            <div class="purple-form-group">
                                <label for="purpleLastName">Last Name *</label>
                                <input type="text" class="purple-form-input" id="purpleLastName" required>
                            </div>
                        </div>
                        <div class="purple-form-group">
                            <label for="purpleEmail">Email *</label>
                            <input type="email" class="purple-form-input" id="purpleEmail" required>
                        </div>
                        <div class="purple-form-group">
                            <label for="purple-card-element">Card Information *</label>
                            <div id="purple-card-element" class="purple-stripe-element"></div>
                        </div>
                        <button type="button" class="purple-donate-submit" onclick="processPurpleDonation()">
                            Complete Donation
                        </button>
                        <div class="purple-security-notice">
                            ðŸ”’ Secure & tax-deductible â€¢ EIN: 33-4214907
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Application Modal -->
    <div class="application-modal-backdrop" id="applicationModal">
        <div class="application-modal">
            <button class="application-modal-close" onclick="closeApplicationModal()" aria-label="Close modal">
                <span class="application-modal-close-icon"></span>
            </button>

            <div class="application-modal-header">
                <h2 class="application-modal-title" id="applicationModalTitle">Application Form</h2>
                <p class="application-modal-subtitle" id="applicationModalSubtitle">Please fill out the form below to
                    apply.</p>
            </div>

            <div class="application-modal-body">
                <form id="applicationForm" onsubmit="handleApplicationSubmit(event)">
                    <!-- Dynamic form content will be inserted here -->
                </form>
            </div>

            <div class="application-modal-footer">
                <button type="submit" form="applicationForm" class="application-submit-button">
                    Submit Application
                </button>
            </div>
        </div>
    </div>

    <!-- Success Message -->
    <div class="application-success-message" id="applicationSuccessMessage">
        <div>âœ… Application Submitted Successfully!</div>
        <div style="font-size: 0.95rem; margin-top: 10px; opacity: 0.95;">We'll review your application and get back to
            you within 48 hours.</div>
    </div>

    <script>
        // Purple Hero scroll-based opacity adjustment for rocket
        (function () {
            let ticking = false;

            function updatePurpleRocketOpacity() {
                const scrollY = window.scrollY || window.pageYOffset;
                const rocket = document.getElementById('purpleRocketContainer');
                if (rocket) {
                    const maxScroll = 600;
                    const scrollRatio = Math.min(scrollY / maxScroll, 1);
                    const opacity = 0.6 - (scrollRatio * 0.4);
                    rocket.style.opacity = Math.max(opacity, 0.2);
                }
            }

            window.addEventListener('scroll', () => {
                if (!ticking) {
                    window.requestAnimationFrame(() => {
                        updatePurpleRocketOpacity();
                        ticking = false;
                    });
                    ticking = true;
                }
            }, { passive: true });
        })();

        // Purple Hero Payment Controller
        class PurplePaymentController {
            constructor() {
                this.amount = 250;
                this.frequency = 'one_time';
                this.stripe = null;
                this.elements = null;
                this.card = null;
                this.init();
            }

            async init() {
                if (typeof Stripe === 'undefined') {
                    console.error('Stripe.js not loaded');
                    return;
                }
                this.stripe = Stripe('pk_live_51SJPjpK5HnR8nkDr2uGDyZvrezAHxAjP8v2pn06ItWk7xUG86aWX72VcMA5S9irhqwDWjH7YSixa4QfD8uruEx88003bSI91TX');
                this.elements = this.stripe.elements();

                const style = {
                    base: {
                        fontSize: '14px',
                        color: '#ffffff',
                        fontFamily: 'Inter, sans-serif',
                        '::placeholder': { color: 'rgba(255,255,255,0.5)' }
                    }
                };

                this.card = this.elements.create('card', { style });
                const cardElement = document.getElementById('purple-card-element');
                if (cardElement) {
                    this.card.mount('#purple-card-element');
                    this.card.on('change', (event) => {
                        if (event.error) {
                            console.error('Card error:', event.error.message);
                        }
                    });
                }
            }

            selectAmount(amt) {
                this.amount = amt;
                document.querySelectorAll('.purple-amount-btn').forEach(btn => btn.classList.remove('selected'));
                if (event && event.target) {
                    event.target.classList.add('selected');
                }
                const customInput = document.getElementById('purpleCustomAmount');
                if (customInput) customInput.value = '';
            }

            selectCustomAmount(val) {
                if (val && val > 0) {
                    this.amount = parseFloat(val);
                    document.querySelectorAll('.purple-amount-btn').forEach(btn => btn.classList.remove('selected'));
                }
            }

            setFrequency(type) {
                this.frequency = type;
                document.querySelectorAll('.purple-frequency-btn').forEach(btn => btn.classList.remove('active'));
                if (event && event.target) {
                    event.target.classList.add('active');
                }
            }

            async process() {
                const btn = document.querySelector('.purple-donate-submit');
                if (!btn) return;

                btn.disabled = true;
                btn.textContent = 'Processing...';

                try {
                    const firstName = document.getElementById('purpleFirstName').value.trim();
                    const lastName = document.getElementById('purpleLastName').value.trim();
                    const email = document.getElementById('purpleEmail').value.trim();

                    if (!firstName || !lastName || !email) {
                        throw new Error('Please fill in all required fields');
                    }

                    if (!this.amount || this.amount < 1) {
                        throw new Error('Please select a valid donation amount');
                    }

                    const fund = document.getElementById('purpleDonationDesignation').value;

                    const controller = new AbortController();
                    const timeoutId = setTimeout(() => controller.abort(), 10000);

                    const response = await fetch('https://shhh-ox7c.onrender.com/donations', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'Idempotency-Key': `don_${Date.now()}_${Math.random()}`,
                            'Accept': 'application/json'
                        },
                        body: JSON.stringify({
                            amount: this.amount,
                            currency: 'usd',
                            frequency: this.frequency,
                            fund: fund,
                            metadata: {
                                firstName: firstName,
                                lastName: lastName,
                                email: email
                            }
                        }),
                        signal: controller.signal
                    });

                    clearTimeout(timeoutId);

                    if (!response.ok) {
                        throw new Error(`Server error: ${response.status}`);
                    }

                    const data = await response.json();

                    if (!data.clientSecret) {
                        throw new Error('Invalid response from server');
                    }

                    const { error, paymentIntent } = await this.stripe.confirmCardPayment(data.clientSecret, {
                        payment_method: {
                            card: this.card,
                            billing_details: {
                                name: `${firstName} ${lastName}`,
                                email: email
                            }
                        }
                    });

                    if (error) {
                        throw new Error(error.message);
                    }

                    if (paymentIntent.status === 'succeeded') {
                        alert('Thank you for your donation! Your contribution has been processed successfully.');
                        closePurpleDonationModal();
                        document.getElementById('purpleDonationModal').querySelector('form')?.reset();
                        if (this.card) this.card.clear();
                    } else {
                        throw new Error('Payment was not completed successfully');
                    }
                } catch (error) {
                    console.error('Payment error:', error);
                    alert('Payment failed: ' + (error.message || 'Please try again'));
                } finally {
                    btn.disabled = false;
                    btn.textContent = 'Complete Donation';
                }
            }
        }

        // Global Purple Hero functions
        let purplePaymentController;

        function openDonationModal() {
            const purpleModal = document.getElementById('purpleDonationModal');
            if (purpleModal) {
                purpleModal.classList.add('active');
                document.body.classList.add('purple-modal-open');
                if (!purplePaymentController) {
                    purplePaymentController = new PurplePaymentController();
                }
                document.getElementById('purpleFirstName')?.focus();
            } else if (typeof openDonateModal === 'function') {
                openDonateModal();
            }
        }

        function closePurpleDonationModal(event) {
            if (event) {
                event.preventDefault();
                event.stopPropagation();
            }
            const modal = document.getElementById('purpleDonationModal');
            if (modal) {
                modal.classList.remove('active');
                document.body.classList.remove('purple-modal-open');
            }
        }

        function setPurpleFrequency(type, target) {
            if (purplePaymentController) {
                purplePaymentController.setFrequency(type);
            }
            document.querySelectorAll('.purple-frequency-btn').forEach(btn => btn.classList.remove('active'));
            if (target) target.classList.add('active');
        }

        function selectPurpleAmount(amt, target) {
            if (purplePaymentController) {
                purplePaymentController.selectAmount(amt);
            }
            document.querySelectorAll('.purple-amount-btn').forEach(btn => btn.classList.remove('selected'));
            if (target) target.classList.add('selected');
            const customInput = document.getElementById('purpleCustomAmount');
            if (customInput) customInput.value = '';
        }

        function selectPurpleCustomAmount(val) {
            if (purplePaymentController) {
                purplePaymentController.selectCustomAmount(val);
            }
        }

        function processPurpleDonation() {
            if (purplePaymentController) {
                purplePaymentController.process();
            }
        }

        // Close modals on ESC or backdrop click
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                const purpleDonationModal = document.getElementById('purpleDonationModal');
                if (purpleDonationModal && purpleDonationModal.classList.contains('active')) {
                    closePurpleDonationModal();
                }
            }
        });

        document.getElementById('purpleDonationModal')?.addEventListener('click', (e) => {
            if (e.target === e.currentTarget) closePurpleDonationModal();
        });

        // Make openDonationModal globally available for footer button
        window.openDonationModal = openDonationModal;

        // =============== APPLICATION MODAL SYSTEM ===============
        const applicationConfigs = {
            inneranimal: {
                title: "Apply for Support",
                subtitle: "Apply for adaptive equipment, therapy & wellness support",
                fields: [
                    { name: "fullName", label: "Full Name", type: "text", required: true, placeholder: "Your full name" },
                    { name: "email", label: "Email Address", type: "email", required: true, placeholder: "your.email@example.com" },
                    { name: "phone", label: "Phone Number", type: "tel", required: true, placeholder: "(555) 123-4567" },
                    { name: "situation", label: "Describe your current situation", type: "textarea", required: true, placeholder: "Briefly describe your situation and needs..." },
                    { name: "supportType", label: "What specific support are you requesting?", type: "textarea", required: true, placeholder: "Describe the type of support you need..." }
                ]
            },
            equipment: {
                title: "Request Equipment",
                subtitle: "Apply for adaptive equipment and gear support",
                fields: [
                    { name: "fullName", label: "Full Name", type: "text", required: true, placeholder: "Your full name" },
                    { name: "email", label: "Email Address", type: "email", required: true, placeholder: "your.email@example.com" },
                    { name: "phone", label: "Phone Number", type: "tel", required: true, placeholder: "(555) 123-4567" },
                    { name: "condition", label: "Condition/Disability", type: "text", required: true, placeholder: "e.g., Spinal cord injury, Cerebral palsy, etc." },
                    { name: "equipmentType", label: "Type of Equipment Needed", type: "select", options: ["Racing Wheelchair", "Daily Wheelchair", "Adaptive Sports Equipment", "Home Modifications", "Other"], required: true },
                    { name: "equipmentDetails", label: "Describe your specific equipment needs", type: "textarea", required: true, placeholder: "Provide details about the equipment you need..." }
                ]
            },
            operations: {
                title: "Join Our Team",
                subtitle: "Apply to become part of our team - volunteer, staff, or partner",
                fields: [
                    { name: "fullName", label: "Full Name", type: "text", required: true, placeholder: "Your full name" },
                    { name: "email", label: "Email Address", type: "email", required: true, placeholder: "your.email@example.com" },
                    { name: "phone", label: "Phone Number", type: "tel", required: true, placeholder: "(555) 123-4567" },
                    { name: "roleType", label: "Position Type", type: "select", options: ["Volunteer", "Part-time", "Full-time", "Internship", "Partnership"], required: true },
                    { name: "motivation", label: "Why do you want to join us?", type: "textarea", required: true, placeholder: "Tell us about your motivation and goals..." }
                ]
            }
        };

        function openApplicationModal(appType) {
            const modal = document.getElementById('applicationModal');
            const title = document.getElementById('applicationModalTitle');
            const subtitle = document.getElementById('applicationModalSubtitle');
            const form = document.getElementById('applicationForm');

            const config = applicationConfigs[appType];
            if (!config) {
                console.error('Unknown application type:', appType);
                return;
            }

            title.textContent = config.title;
            subtitle.textContent = config.subtitle;
            form.dataset.appType = appType;

            // Generate form fields
            form.innerHTML = generateFormFields(config.fields);

            // Show modal
            modal.classList.add('active');
            document.body.classList.add('purple-modal-open');

            // Focus first input
            setTimeout(() => {
                const firstInput = form.querySelector('input, textarea, select');
                if (firstInput) firstInput.focus();
            }, 100);
        }

        function closeApplicationModal(event) {
            if (event) {
                event.preventDefault();
                event.stopPropagation();
            }
            const modal = document.getElementById('applicationModal');
            if (modal) {
                modal.classList.remove('active');
                document.body.classList.remove('purple-modal-open');

                // Reset form
                const form = document.getElementById('applicationForm');
                if (form) {
                    form.reset();
                }
            }
        }

        function generateFormFields(fields) {
            return fields.map(field => {
                const required = field.required ? 'required' : '';
                const placeholder = field.placeholder ? `placeholder="${field.placeholder}"` : '';

                if (field.type === 'textarea') {
                    return `
                        <div class="application-form-group">
                            <label class="application-form-label" for="${field.name}">${field.label}${field.required ? ' *' : ''}</label>
                            <textarea class="application-form-textarea" id="${field.name}" name="${field.name}" ${required} ${placeholder}></textarea>
                        </div>
                    `;
                } else if (field.type === 'select') {
                    const options = field.options.map(opt => `<option value="${opt}">${opt}</option>`).join('');
                    return `
                        <div class="application-form-group">
                            <label class="application-form-label" for="${field.name}">${field.label}${field.required ? ' *' : ''}</label>
                            <select class="application-form-select" id="${field.name}" name="${field.name}" ${required}>
                                <option value="">Select ${field.label}</option>
                                ${options}
                            </select>
                        </div>
                    `;
                } else {
                    return `
                        <div class="application-form-group">
                            <label class="application-form-label" for="${field.name}">${field.label}${field.required ? ' *' : ''}</label>
                            <input class="application-form-input" type="${field.type}" id="${field.name}" name="${field.name}" ${required} ${placeholder}>
                        </div>
                    `;
                }
            }).join('');
        }

        async function handleApplicationSubmit(event) {
            event.preventDefault();

            const form = event.target;
            const appType = form.dataset.appType;
            const config = applicationConfigs[appType];
            const formData = new FormData(form);

            // Validate form
            const requiredFields = config.fields.filter(f => f.required);
            for (const field of requiredFields) {
                const value = formData.get(field.name);
                if (!value || !value.trim()) {
                    alert(`Please fill in the ${field.label} field.`);
                    const input = form.querySelector(`[name="${field.name}"]`);
                    if (input) {
                        input.focus();
                        input.style.borderColor = '#ff6b6b';
                        setTimeout(() => input.style.borderColor = '', 2000);
                    }
                    return;
                }
            }

            const submitBtn = document.querySelector('.application-submit-button');
            const originalText = submitBtn.textContent;
            submitBtn.textContent = 'Submitting...';
            submitBtn.disabled = true;

            try {
                // Prepare submission data
                const submissionData = {
                    applicationType: appType,
                    timestamp: new Date().toISOString(),
                    source: 'donate-page-allocation-card'
                };

                // Add form fields to submission data
                config.fields.forEach(field => {
                    submissionData[field.name] = formData.get(field.name);
                });

                // Submit to API
                const response = await fetch('/api/community/subscribe', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        email: submissionData.email,
                        firstName: submissionData.fullName?.split(' ')[0] || '',
                        goals: JSON.stringify(submissionData),
                        source: 'application-form-' + appType,
                        timestamp: submissionData.timestamp
                    }),
                });

                if (!response.ok) {
                    throw new Error('Submission failed');
                }

                // Show success message
                const successMsg = document.getElementById('applicationSuccessMessage');
                successMsg.classList.add('visible');

                // Reset form
                form.reset();

                // Close modal after delay
                setTimeout(() => {
                    successMsg.classList.remove('visible');
                    closeApplicationModal();
                    submitBtn.textContent = originalText;
                    submitBtn.disabled = false;
                }, 3000);

            } catch (error) {
                console.error('Error submitting application:', error);
                alert('There was an error submitting your application. Please try again or contact us directly at hey@meauxbility.com');
                submitBtn.textContent = originalText;
                submitBtn.disabled = false;
            }
        }

        // Close modal on backdrop click
        document.getElementById('applicationModal')?.addEventListener('click', function (e) {
            if (e.target === this) {
                closeApplicationModal();
            }
        });

        // Close modal on Escape key
        document.addEventListener('keydown', function (e) {
            if (e.key === 'Escape') {
                const modal = document.getElementById('applicationModal');
                if (modal && modal.classList.contains('active')) {
                    closeApplicationModal();
                }
            }
        });

        // Make function globally available
        window.openApplicationModal = openApplicationModal;
        window.closeApplicationModal = closeApplicationModal;
    </script>
    
    <!-- Meauxbility Footer -->
    <footer class="mbx-footer" id="mbx-footer" role="contentinfo">
      <div class="mbx-footer-container">
        <div class="mbx-footer-grid">
          <!-- Brand Column -->
          <div class="mbx-footer-brand">
            <a href="/" class="mbx-footer-logo" aria-label="Meauxbility Home">
              <picture>
                <source srcset="https://imagedelivery.net/g7wf09fCONpnidkRnR_5vw/e6e1daec-6dcd-4269-eaf0-820275984a00/small?w=440&h=440&fit=contain&format=webp&quality=95&sharpen=1" type="image/webp">
                <img 
                  src="https://imagedelivery.net/g7wf09fCONpnidkRnR_5vw/e6e1daec-6dcd-4269-eaf0-820275984a00/small?w=440&h=440&fit=contain&format=png&quality=95" 
                  alt="Meauxbility - Empowering mobility and independence"
                  width="220"
                  height="220"
                  loading="lazy"
                >
              </picture>
            </a>
            <div class="mbx-footer-social" role="list">
              <a class="mbx-social-link" aria-label="Facebook" href="https://www.facebook.com/p/Meauxbility-61577795721851/" target="_blank" rel="noopener noreferrer">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                  <path d="M24 12.073c0-6.627-5.373-12-12-12S0 5.446 0 12.073c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
                </svg>
              </a>
              <a class="mbx-social-link" aria-label="Instagram" href="https://www.instagram.com/meauxbility/" target="_blank" rel="noopener noreferrer">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                  <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zM5.838 12a6.162 6.162 0 1112.324 0 6.162 6.162 0 01-12.324 0zM12 15.838a3.838 3.838 0 110-7.676 3.838 3.838 0 010 7.676zM18.406 5.594a1.44 1.44 0 11-2.88 0 1.44 1.44 0 012.88 0z"/>
                </svg>
              </a>
            </div>
            <p>More Options. More Access. More Life. Join us as we transform obstacles into pathways for adaptive athletes and spinal cord injury survivors.</p>
            <div class="mbx-footer-cta">
              <a class="mbx-btn mbx-btn-primary" href="https://www.meauxbility.org/pages/donmichael-our-first-campaign">DonMichael's Campaign</a>
              <button class="mbx-btn mbx-btn-outline" onclick="openDonateModal()">Donate Now</button>
            </div>
            <div class="mbx-newsletter">
              <h4>Stay Connected</h4>
              <p style="color:rgba(255,255,255,0.85);font-size:14px;margin-bottom:8px;">Get updates on our impact and ways to help</p>
              <form class="mbx-newsletter-form" id="mbx-newsletterForm">
                <input type="email" class="mbx-newsletter-input" placeholder="Enter your email" required aria-label="Email address">
                <button type="submit" class="mbx-newsletter-btn">Subscribe</button>
              </form>
            </div>
          </div>
          <!-- Resources Column -->
          <div class="mbx-footer-column">
            <h4>Resources</h4>
            <ul class="mbx-footer-links" role="list">
              <li><a href="https://www.meauxbility.org/pages/meauxbility-branding">Brand Guide</a></li>
              <li><a href="https://www.meauxbility.org/pages/community">Community</a></li>
              <li><a href="https://www.meauxbility.org/pages/news-media-features">Latest News</a></li>
              <li><a href="https://www.meauxbility.org/pages/non-profit-information">501(c)(3) Info</a></li>
            </ul>
          </div>
          <!-- Company Column -->
          <div class="mbx-footer-column">
            <h4>Company</h4>
            <ul class="mbx-footer-links" role="list">
              <li><a href="https://www.meauxbility.org/pages/sam-primeaux">About Sam</a></li>
              <li><a href="https://www.meauxbility.org/pages/team-meauxbility">Our Team</a></li>
              <li><a href="https://www.meauxbility.org/pages/about-us">Our Mission</a></li>
              <li><a href="https://www.meauxbility.org/pages/accessibility-partners">Partners</a></li>
              <li><a href="https://www.meauxbility.org/pages/contact">Contact</a></li>
            </ul>
          </div>
          <!-- Support Column -->
          <div class="mbx-footer-column">
            <h4>Support</h4>
            <ul class="mbx-footer-links" role="list">
              <li><a href="https://www.meauxbility.org/pages/faq">FAQ</a></li>
              <li><a href="https://www.meauxbility.org/pages/donate">Ways to Give</a></li>
              <li><a href="https://www.meauxbility.org/pages/get-involved">Get Involved</a></li>
              <li><a href="https://www.meauxbility.org/pages/apply-for-funding">Apply for Grant</a></li>
              <li><a href="https://www.meauxbility.org/dashboard" class="mbx-footer-dashboard-link">MeauxAccess</a></li>
            </ul>
          </div>
        </div>
        <!-- Footer Bottom -->
        <div class="mbx-footer-bottom">
          <div class="mbx-footer-legal">
            <a href="https://www.meauxbility.org/pages/data-sharing-opt-out">Privacy Policy</a>
            <span aria-hidden="true" style="color:rgba(255,255,255,0.3);">â€¢</span>
            <a href="https://www.meauxbility.org/pages/policies">Terms of Service</a>
            <span aria-hidden="true" style="color:rgba(255,255,255,0.3);">â€¢</span>
            <a href="https://www.meauxbility.org/pages/accessibility">Accessibility</a>
            <span aria-hidden="true" style="color:rgba(255,255,255,0.3);">â€¢</span>
            <a href="https://www.meauxbility.org/dashboard" class="mbx-footer-dashboard-link" style="font-weight:600;color:var(--footer-accent);">MeauxAccess</a>
          </div>
          <div class="mbx-footer-copyright" style="display:flex;align-items:center;gap:12px;flex-wrap:wrap;justify-content:center;">
            <span>Â© <span id="mbx-year"></span> Meauxbility. 501(c)(3) EIN: 33-4214907. All rights reserved.</span>
            <span style="color:rgba(255,255,255,0.3);">â€¢</span>
            <span style="display:flex;align-items:center;gap:6px;color:rgba(255,255,255,0.7);font-size:13px;">
              Built by <a href="https://inneranimalmedia.com" target="_blank" rel="noopener noreferrer" style="display:inline-flex;align-items:center;gap:8px;text-decoration:none;color:rgba(255,255,255,0.9);transition:all 0.3s ease;padding:4px 8px;border-radius:8px;" onmouseover="this.style.color='rgba(255,255,255,1)';this.style.backgroundColor='rgba(255,255,255,0.1)'" onmouseout="this.style.color='rgba(255,255,255,0.9)';this.style.backgroundColor='transparent'">
                <img src="https://imagedelivery.net/g7wf09fCONpnidkRnR_5vw/a8fb97d3-75bf-4070-b40a-04834ed5c500/public?w=100&h=100&fit=contain&format=webp&quality=95" alt="InnerAnimal Media" width="100" height="100" style="opacity:1;transition:all 0.3s ease;display:block;filter:brightness(1) contrast(1);" onmouseover="this.style.transform='scale(1.05)';this.style.filter='brightness(1.1) contrast(1.05)'" onmouseout="this.style.transform='scale(1)';this.style.filter='brightness(1) contrast(1)'">
                <span style="font-weight:600;font-size:14px;letter-spacing:0.5px;">InnerAnimal</span>
              </a>
            </span>
          </div>
        </div>
      </div>
    </footer>
    
    <!-- Donation Modal -->
    <div class="mbx-donate-modal-overlay" id="mbxDonateModal" aria-hidden="true" role="dialog" aria-labelledby="mbxDonateTitle" aria-describedby="mbxDonateDesc">
      <div class="mbx-donate-modal-container">
        <button class="mbx-donate-modal-close" onclick="closeDonateModal()" aria-label="Close modal">Ã—</button>
        <div class="mbx-donate-modal-header">
          <h2 id="mbxDonateTitle">Support Meauxbility</h2>
          <p id="mbxDonateDesc">Every dollar transforms lives</p>
        </div>
        <div class="mbx-donate-modal-body">
          <div class="mbx-donate-success" id="mbxDonateSuccess" style="display:none;">
            <div style="font-size:3rem;margin-bottom:1rem;">âœ…</div>
            <h3>Thank You!</h3>
            <p>Your donation has been processed successfully.</p>
          </div>
          <form id="mbxDonateForm" onsubmit="processDonation(event)">
            <div class="mbx-donate-options">
              <h3>Choose Your Gift</h3>
              <div class="mbx-frequency-toggle">
                <button type="button" class="mbx-frequency-btn active" onclick="setDonationFrequency('one_time', this)">One Time</button>
                <button type="button" class="mbx-frequency-btn" onclick="setDonationFrequency('monthly', this)">Monthly</button>
              </div>
              <div class="mbx-amount-grid">
                <button type="button" class="mbx-amount-btn" onclick="selectDonationAmount(25, this)">$25</button>
                <button type="button" class="mbx-amount-btn" onclick="selectDonationAmount(50, this)">$50</button>
                <button type="button" class="mbx-amount-btn" onclick="selectDonationAmount(100, this)">$100</button>
                <button type="button" class="mbx-amount-btn selected" onclick="selectDonationAmount(250, this)">$250</button>
                <button type="button" class="mbx-amount-btn" onclick="selectDonationAmount(500, this)">$500</button>
                <button type="button" class="mbx-amount-btn" onclick="selectDonationAmount(1000, this)">$1k</button>
              </div>
              <input type="number" class="mbx-custom-amount" id="mbxCustomAmount" placeholder="Custom amount" min="1" oninput="selectCustomDonation(this.value)">
              <select id="mbxDonationDesignation" class="mbx-designation">
                <option value="general">Where Most Needed</option>
                <option value="donmichael">DonMichael's Wheelchair</option>
                <option value="samscar">Sam's Car Fund</option>
                <option value="recovery">Recovery Grant Program</option>
                <option value="equipment">Adaptive Athletes Equipment Fund</option>
              </select>
            </div>
            <div class="mbx-donor-info">
              <h3>Your Information</h3>
              <div class="mbx-name-grid">
                <div class="mbx-form-group">
                  <label for="mbxDonateFirstName">First Name *</label>
                  <input type="text" id="mbxDonateFirstName" class="mbx-form-input" required>
                  <div class="mbx-form-error" id="mbxDonateFirstNameErr"></div>
                </div>
                <div class="mbx-form-group">
                  <label for="mbxDonateLastName">Last Name *</label>
                  <input type="text" id="mbxDonateLastName" class="mbx-form-input" required>
                  <div class="mbx-form-error" id="mbxDonateLastNameErr"></div>
                </div>
              </div>
              <div class="mbx-form-group">
                <label for="mbxDonateEmail">Email *</label>
                <input type="email" id="mbxDonateEmail" class="mbx-form-input" required>
                <div class="mbx-form-error" id="mbxDonateEmailErr"></div>
              </div>
              <div class="mbx-form-group">
                <label for="mbx-card-element">Card Information *</label>
                <div id="mbx-card-element" class="mbx-stripe-element"></div>
                <div class="mbx-form-error" id="mbxCardErr"></div>
              </div>
              <button type="submit" class="mbx-donate-submit" id="mbxDonateSubmit">
                <span class="mbx-submit-text">Complete Donation</span>
                <span class="mbx-loading" id="mbxDonateLoading" style="display:none;">Processing...</span>
              </button>
              <div class="mbx-security-notice">ðŸ”’ Secure & tax-deductible â€¢ EIN: 33-4214907</div>
            </div>
          </form>
        </div>
      </div>
    </div>
    
    <style>
    .mbx-donate-modal-overlay {
      position: fixed;
      inset: 0;
      background: rgba(5, 27, 30, 0.95);
      backdrop-filter: blur(20px);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 10000;
      opacity: 0;
      transition: opacity 0.3s ease;
      padding: 1rem;
    }
    .mbx-donate-modal-overlay.active {
      display: flex;
      opacity: 1;
    }
    .mbx-donate-modal-container {
      background: white;
      border-radius: 24px;
      max-width: 680px;
      width: 100%;
      max-height: 90vh;
      overflow-y: auto;
      box-shadow: 0 24px 64px rgba(0, 0, 0, 0.5);
      position: relative;
      transform: scale(0.9) translateY(20px);
      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    .mbx-donate-modal-overlay.active .mbx-donate-modal-container {
      transform: scale(1) translateY(0);
    }
    .mbx-donate-modal-close {
      position: absolute;
      top: 1rem;
      right: 1rem;
      background: rgba(0, 0, 0, 0.1);
      border: none;
      color: #0C2D31;
      font-size: 2rem;
      cursor: pointer;
      width: 44px;
      height: 44px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
      z-index: 1;
    }
    .mbx-donate-modal-close:hover {
      background: rgba(255, 107, 53, 0.2);
      color: #FF6B35;
      transform: rotate(90deg);
    }
    .mbx-donate-modal-header {
      padding: 2rem 2rem 1rem;
      border-bottom: 1px solid rgba(0, 0, 0, 0.1);
      background: linear-gradient(135deg, rgba(255, 107, 0, 0.05), rgba(51, 153, 153, 0.05));
      position: relative;
    }
    .mbx-donate-modal-header::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: linear-gradient(90deg, #FF6B35 0%, #339999 100%);
    }
    .mbx-donate-modal-header h2 {
      font-weight: 900;
      color: #0C2D31;
      font-size: 1.75rem;
      margin: 0 0 0.5rem 0;
    }
    .mbx-donate-modal-header p {
      color: #173E45;
      font-size: 0.95rem;
      margin: 0;
    }
    .mbx-donate-modal-body {
      padding: 1.5rem 2rem 2rem;
    }
    .mbx-donate-options {
      background: rgba(51, 153, 153, 0.05);
      border: 1px solid rgba(51, 153, 153, 0.2);
      border-radius: 16px;
      padding: 1.5rem;
      margin-bottom: 1.5rem;
    }
    .mbx-donate-options h3 {
      font-size: 1.125rem;
      font-weight: 800;
      color: #0C2D31;
      margin: 0 0 1rem 0;
    }
    .mbx-frequency-toggle {
      display: flex;
      background: rgba(0, 0, 0, 0.05);
      border-radius: 8px;
      padding: 4px;
      margin-bottom: 1rem;
    }
    .mbx-frequency-btn {
      flex: 1;
      padding: 0.625rem;
      background: transparent;
      border: none;
      color: #173E45;
      font-weight: 600;
      cursor: pointer;
      border-radius: 6px;
      transition: all 0.2s;
      font-size: 0.875rem;
    }
    .mbx-frequency-btn.active {
      background: linear-gradient(135deg, rgba(255, 107, 53, 0.8), rgba(255, 122, 0, 0.7));
      color: white;
      box-shadow: 0 2px 8px rgba(255, 107, 53, 0.3);
    }
    .mbx-amount-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 0.5rem;
      margin-bottom: 0.75rem;
    }
    .mbx-amount-btn {
      padding: 0.75rem;
      background: white;
      border: 2px solid rgba(51, 153, 153, 0.2);
      border-radius: 8px;
      color: #0C2D31;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.2s;
      font-size: 0.875rem;
    }
    .mbx-amount-btn:hover {
      background: rgba(51, 153, 153, 0.1);
      border-color: #339999;
      transform: translateY(-1px);
    }
    .mbx-amount-btn.selected {
      background: linear-gradient(135deg, rgba(51, 153, 153, 0.2), rgba(51, 153, 153, 0.1));
      border-color: #339999;
      color: #2C8B8B;
    }
    .mbx-custom-amount {
      width: 100%;
      padding: 0.75rem;
      background: white;
      border: 2px solid rgba(51, 153, 153, 0.2);
      border-radius: 8px;
      color: #0C2D31;
      font-size: 0.875rem;
      margin-bottom: 0.75rem;
    }
    .mbx-custom-amount:focus {
      outline: none;
      border-color: #339999;
    }
    .mbx-designation {
      width: 100%;
      padding: 0.75rem;
      background: white;
      border: 2px solid rgba(51, 153, 153, 0.2);
      border-radius: 8px;
      color: #0C2D31;
      font-size: 0.875rem;
    }
    .mbx-donor-info {
      background: rgba(255, 107, 0, 0.03);
      border: 1px solid rgba(255, 107, 0, 0.2);
      border-radius: 16px;
      padding: 1.5rem;
    }
    .mbx-donor-info h3 {
      font-size: 1.125rem;
      font-weight: 800;
      color: #0C2D31;
      margin: 0 0 1rem 0;
    }
    .mbx-form-group {
      margin-bottom: 1rem;
    }
    .mbx-form-group label {
      display: block;
      color: #0C2D31;
      margin-bottom: 0.5rem;
      font-weight: 600;
      font-size: 0.875rem;
    }
    .mbx-form-input {
      width: 100%;
      padding: 0.75rem;
      background: white;
      border: 2px solid rgba(255, 107, 0, 0.2);
      border-radius: 8px;
      color: #0C2D31;
      font-size: 0.875rem;
      font-family: inherit;
    }
    .mbx-form-input:focus {
      outline: none;
      border-color: #FF6B35;
    }
    .mbx-name-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 0.75rem;
    }
    .mbx-stripe-element {
      padding: 0.75rem;
      background: white;
      border: 2px solid rgba(255, 107, 0, 0.2);
      border-radius: 8px;
    }
    .mbx-form-error {
      color: #e74c3c;
      font-size: 0.75rem;
      margin-top: 0.25rem;
      display: none;
    }
    .mbx-form-error.show {
      display: block;
    }
    .mbx-donate-submit {
      width: 100%;
      padding: 1rem;
      background: linear-gradient(135deg, rgba(255, 107, 53, 0.75), rgba(255, 122, 0, 0.65));
      border: 2px solid rgba(255, 107, 53, 0.85);
      color: white;
      border-radius: 12px;
      font-size: 1rem;
      font-weight: 800;
      cursor: pointer;
      transition: all 0.3s ease;
      margin-top: 1rem;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      box-shadow: 0 4px 20px rgba(255, 107, 53, 0.3);
    }
    .mbx-donate-submit:hover:not(:disabled) {
      transform: translateY(-2px);
      box-shadow: 0 8px 28px rgba(255, 107, 0, 0.4);
      background: linear-gradient(135deg, rgba(255, 107, 53, 0.85), rgba(255, 122, 0, 0.75));
    }
    .mbx-donate-submit:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }
    .mbx-security-notice {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
      margin-top: 1rem;
      color: #173E45;
      font-size: 0.75rem;
    }
    .mbx-donate-success {
      text-align: center;
      padding: 2rem 0;
    }
    .mbx-donate-success h3 {
      font-size: 1.75rem;
      font-weight: 800;
      color: #0C2D31;
      margin: 0 0 1rem 0;
    }
    .mbx-donate-success p {
      color: #173E45;
      font-size: 1.05rem;
      margin: 0;
    }
    @media (max-width: 640px) {
      .mbx-donate-modal-container {
        max-width: 95vw;
        margin: 1rem;
      }
      .mbx-donate-modal-header,
      .mbx-donate-modal-body {
        padding: 1.25rem;
      }
      .mbx-name-grid {
        grid-template-columns: 1fr;
      }
      .mbx-amount-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }
    </style>
    
    
    <script src="https://js.stripe.com/v3/"></script>
    <script>
    (function() {
      'use strict';
      // Set year
      const yearEl = document.getElementById('mbx-year');
      if (yearEl) yearEl.textContent = new Date().getFullYear();
      
      // Newsletter form with API connection
      const newsletterForm = document.getElementById('mbx-newsletterForm');
      if (newsletterForm) {
        newsletterForm.addEventListener('submit', async function(e) {
          e.preventDefault();
          const emailInput = e.target.querySelector('.mbx-newsletter-input');
          const email = emailInput.value.trim();
          const submitBtn = e.target.querySelector('.mbx-newsletter-btn');
          const originalText = submitBtn.textContent;
          
          if (!email) {
            alert('Please enter your email address');
            return;
          }
          
          const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
          if (!emailRegex.test(email)) {
            alert('Please enter a valid email address');
            return;
          }
          
          submitBtn.disabled = true;
          submitBtn.textContent = 'Subscribing...';
          
          try {
            const response = await fetch('/api/newsletter/subscribe', {
              method: 'POST',
              headers: {
                'Content-Type': 'application/json',
              },
              body: JSON.stringify({
                email: email,
                source: 'footer-newsletter',
                timestamp: new Date().toISOString()
              })
            });
            
            if (!response.ok) {
              throw new Error('Subscription failed. Please try again.');
            }
            
            const data = await response.json();
            submitBtn.textContent = 'âœ“ Subscribed!';
            setTimeout(() => {
              submitBtn.textContent = originalText;
              submitBtn.disabled = false;
              e.target.reset();
            }, 2000);
            
            if (typeof gtag !== 'undefined') {
              gtag('event', 'newsletter_subscription', {
                'email': email,
                'source': 'footer',
                'timestamp': Date.now()
              });
            }
          } catch (error) {
            console.error('Newsletter subscription error:', error);
            alert('Subscription failed. Please try again later.');
            submitBtn.textContent = originalText;
            submitBtn.disabled = false;
          }
        });
      }
      
      // Stripe Donation Modal
      let stripe = null;
      let elements = null;
      let cardElement = null;
      
      async function initStripe() {
        if (typeof Stripe === 'undefined') {
          console.error('Stripe.js not loaded');
          return;
        }
        stripe = Stripe('pk_live_51SJPjpK5HnR8nkDr2uGDyZvrezAHxAjP8v2pn06ItWk7xUG86aWX72VcMA5S9irhqwDWjH7YSixa4QfD8uruEx88003bSI91TX');
        elements = stripe.elements();
      }
      
      window.openDonateModal = function() {
        const modal = document.getElementById('mbxDonateModal');
        if (!modal) {
          console.error('Donation modal not found');
          return;
        }
        modal.setAttribute('aria-hidden', 'false');
        modal.classList.add('active');
        document.body.classList.add('modal-open');
        
        // Initialize Stripe if not already done
        if (!stripe) {
          initStripe().then(() => {
            if (elements && !cardElement) {
              const style = {
                base: {
                  fontSize: '14px',
                  color: '#0C2D31',
                  fontFamily: 'Inter, sans-serif',
                  '::placeholder': { color: '#999' }
                }
              };
              cardElement = elements.create('card', { style });
              const cardContainer = document.getElementById('mbx-card-element');
              if (cardContainer) {
                cardElement.mount('#mbx-card-element');
                cardElement.on('change', function(event) {
                  const cardErr = document.getElementById('mbxCardErr');
                  if (event.error) {
                    cardErr.textContent = event.error.message;
                    cardErr.classList.add('show');
                  } else {
                    cardErr.classList.remove('show');
                  }
                });
              }
            }
          });
        } else if (elements && !cardElement) {
          const style = {
            base: {
              fontSize: '14px',
              color: '#0C2D31',
              fontFamily: 'Inter, sans-serif',
              '::placeholder': { color: '#999' }
            }
          };
          cardElement = elements.create('card', { style });
          const cardContainer = document.getElementById('mbx-card-element');
          if (cardContainer) {
            cardElement.mount('#mbx-card-element');
            cardElement.on('change', function(event) {
              const cardErr = document.getElementById('mbxCardErr');
              if (event.error) {
                cardErr.textContent = event.error.message;
                cardErr.classList.add('show');
              } else {
                cardErr.classList.remove('show');
              }
            });
          }
        }
        
        document.getElementById('mbxDonateEmail')?.focus();
      };
      
      window.closeDonateModal = function() {
        const modal = document.getElementById('mbxDonateModal');
        if (modal) {
          modal.setAttribute('aria-hidden', 'true');
          modal.classList.remove('active');
          document.body.classList.remove('modal-open');
        }
      };
      
      // Initialize Stripe on load
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initStripe);
      } else {
        initStripe();
      }
      
      // Donation Modal Functions
      let donationAmount = 250;
      let donationFrequency = 'one_time';
      
      window.selectDonationAmount = function(amt, target) {
        donationAmount = amt;
        document.querySelectorAll('.mbx-amount-btn').forEach(btn => btn.classList.remove('selected'));
        if (target) target.classList.add('selected');
        const customInput = document.getElementById('mbxCustomAmount');
        if (customInput) customInput.value = '';
      };
      
      window.selectCustomDonation = function(val) {
        if (val && val > 0) {
          donationAmount = parseFloat(val);
          document.querySelectorAll('.mbx-amount-btn').forEach(btn => btn.classList.remove('selected'));
        }
      };
      
      window.setDonationFrequency = function(type, target) {
        donationFrequency = type;
        document.querySelectorAll('.mbx-frequency-btn').forEach(btn => btn.classList.remove('active'));
        if (target) target.classList.add('active');
      };
      
      window.processDonation = async function(event) {
        event.preventDefault();
        
        const firstName = document.getElementById('mbxDonateFirstName').value.trim();
        const lastName = document.getElementById('mbxDonateLastName').value.trim();
        const email = document.getElementById('mbxDonateEmail').value.trim();
        const fund = document.getElementById('mbxDonationDesignation').value;
        const submitBtn = document.getElementById('mbxDonateSubmit');
        const loading = document.getElementById('mbxDonateLoading');
        const submitText = submitBtn.querySelector('.mbx-submit-text');
        
        // Validation
        let isValid = true;
        ['mbxDonateFirstName', 'mbxDonateLastName', 'mbxDonateEmail'].forEach(id => {
          const field = document.getElementById(id);
          const error = document.getElementById(id + 'Err');
          if (!field.value.trim()) {
            error.textContent = 'Required';
            error.classList.add('show');
            isValid = false;
          } else {
            error.classList.remove('show');
          }
        });
        
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!emailRegex.test(email)) {
          document.getElementById('mbxDonateEmailErr').textContent = 'Valid email required';
          document.getElementById('mbxDonateEmailErr').classList.add('show');
          isValid = false;
        }
        
        if (!isValid || !stripe || !cardElement) return;
        
        submitBtn.disabled = true;
        submitText.style.display = 'none';
        loading.style.display = 'inline';
        
        try {
          const response = await fetch('https://shhh-ox7c.onrender.com/donations', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
              'Idempotency-Key': `don_${Date.now()}_${Math.random()}`
            },
            body: JSON.stringify({
              fund: fund,
              frequency: donationFrequency,
              amount: donationAmount,
              currency: 'usd',
              metadata: {
                firstName: firstName,
                lastName: lastName,
                email: email
              }
            })
          });
          
          if (!response.ok) {
            throw new Error('Payment setup failed. Please try again.');
          }
          
          const { clientSecret } = await response.json();
          
          const { error, paymentIntent } = await stripe.confirmCardPayment(clientSecret, {
            payment_method: {
              card: cardElement,
              billing_details: {
                name: `${firstName} ${lastName}`,
                email: email
              }
            }
          });
          
          if (error) {
            throw new Error(error.message);
          }
          
          if (paymentIntent.status === 'succeeded') {
            document.getElementById('mbxDonateForm').style.display = 'none';
            document.getElementById('mbxDonateSuccess').style.display = 'block';
            
            if (typeof gtag !== 'undefined') {
              gtag('event', 'donation_completed', {
                'value': donationAmount,
                'currency': 'USD',
                'fund': fund,
                'frequency': donationFrequency
              });
            }
            
            setTimeout(() => {
              closeDonateModal();
              document.getElementById('mbxDonateForm').style.display = 'block';
              document.getElementById('mbxDonateSuccess').style.display = 'none';
              document.getElementById('mbxDonateForm').reset();
              if (cardElement) cardElement.clear();
              submitBtn.disabled = false;
              submitText.style.display = 'inline';
              loading.style.display = 'none';
              donationAmount = 250;
              document.querySelectorAll('.mbx-amount-btn').forEach(btn => btn.classList.remove('selected'));
              const defaultBtn = document.querySelector('.mbx-amount-btn:nth-child(4)');
              if (defaultBtn) defaultBtn.classList.add('selected');
            }, 3000);
          }
        } catch (error) {
          console.error('Donation error:', error);
          const cardErr = document.getElementById('mbxCardErr');
          cardErr.textContent = error.message || 'Payment failed. Please try again.';
          cardErr.classList.add('show');
          submitBtn.disabled = false;
          submitText.style.display = 'inline';
          loading.style.display = 'none';
        }
      };
      
      // Close modal handlers
      document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
          const modal = document.getElementById('mbxDonateModal');
          if (modal && modal.classList.contains('active')) {
            closeDonateModal();
          }
        }
      });
      
      document.getElementById('mbxDonateModal')?.addEventListener('click', function(e) {
        if (e.target === this) {
          closeDonateModal();
        }
      });
      
      // Navigation Reliability - Track last page and provide back navigation
      (function() {
        // Save current page before navigation
        const currentPath = window.location.pathname;
        const lastPath = sessionStorage.getItem('meauxbility-last-path');
        
        // Only save if it's different and not the same page
        if (lastPath !== currentPath && currentPath !== '/') {
          sessionStorage.setItem('meauxbility-last-path', currentPath);
        }
        
        // Add back button functionality for dashboard pages
        if (currentPath.startsWith('/dashboard') || currentPath.startsWith('/meaux')) {
          // Store referrer if coming from outside dashboard
          const referrer = document.referrer;
          if (referrer && !referrer.includes('/dashboard') && !referrer.includes('/meaux')) {
            sessionStorage.setItem('meauxbility-dashboard-referrer', referrer);
          }
        }
        
        // Handle browser back/forward buttons
        window.addEventListener('popstate', function() {
          // Restore scroll position if available
          const scrollPos = sessionStorage.getItem('meauxbility-scroll-' + window.location.pathname);
          if (scrollPos) {
            setTimeout(() => window.scrollTo(0, parseInt(scrollPos)), 100);
          }
        });
        
        // Save scroll position before navigation
        let scrollTimeout;
        window.addEventListener('scroll', function() {
          clearTimeout(scrollTimeout);
          scrollTimeout = setTimeout(() => {
            sessionStorage.setItem('meauxbility-scroll-' + window.location.pathname, window.scrollY);
          }, 150);
        }, { passive: true });
        
        // Restore scroll position on page load
        window.addEventListener('load', function() {
          const scrollPos = sessionStorage.getItem('meauxbility-scroll-' + window.location.pathname);
          if (scrollPos) {
            window.scrollTo(0, parseInt(scrollPos));
          }
        });
      })();
    })();
    </script>
    
    
    <!-- Cloudflare Toolbar -->
    <div id="cf-toolbar" style="position:fixed;bottom:20px;right:20px;z-index:999999;">
      <button id="cf-toolbar-toggle" style="width:48px;height:48px;border-radius:50%;background:linear-gradient(135deg,#F6821F 0%,#FF6B35 100%);border:2px solid rgba(255,255,255,0.2);box-shadow:0 4px 12px rgba(0,0,0,0.15);cursor:pointer;display:flex;align-items:center;justify-content:center;color:white;font-size:20px;transition:all 0.3s;" onmouseover="this.style.transform='scale(1.1)'" onmouseout="this.style.transform='scale(1)'">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
          <path d="M12 2L2 7l10 5 10-5-10-5z"></path>
          <path d="M2 17l10 5 10-5"></path>
          <path d="M2 12l10 5 10-5"></path>
        </svg>
      </button>
      <div id="cf-toolbar-panel" style="position:absolute;bottom:60px;right:0;width:360px;max-height:600px;background:rgba(15,23,42,0.98);backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,0.1);border-radius:16px;box-shadow:0 20px 60px rgba(0,0,0,0.3);display:none;flex-direction:column;overflow:hidden;color:white;">
        <div style="padding:16px 20px;border-bottom:1px solid rgba(255,255,255,0.1);display:flex;align-items:center;justify-content:space-between;background:rgba(246,130,31,0.1);">
          <div style="display:flex;align-items:center;gap:12px;">
            <div style="width:32px;height:32px;border-radius:8px;background:linear-gradient(135deg,#339999 0%,#1a4a52 100%);display:flex;align-items:center;justify-content:center;font-weight:700;font-size:16px;">MA</div>
            <div>
              <div style="font-weight:700;font-size:14px;">MeauxAccess Toolbar</div>
              <div style="font-size:11px;color:rgba(255,255,255,0.6);">meauxbility.org</div>
            </div>
          </div>
          <button id="cf-toolbar-close" style="width:28px;height:28px;border-radius:6px;background:rgba(255,255,255,0.1);border:none;color:white;cursor:pointer;font-size:18px;">Ã—</button>
        </div>
        <div style="flex:1;overflow-y:auto;padding:12px;display:flex;flex-direction:column;gap:8px;">
          <div style="background:rgba(255,255,255,0.05);border-radius:12px;padding:12px;border:1px solid rgba(255,255,255,0.1);">
            <div style="font-weight:600;font-size:12px;color:rgba(255,255,255,0.7);margin-bottom:8px;text-transform:uppercase;letter-spacing:0.5px;">Quick Links</div>
            <div style="display:flex;flex-direction:column;gap:6px;">
              <a href="/dashboard" style="padding:10px 12px;background:linear-gradient(135deg,rgba(51,153,153,0.2) 0%,rgba(26,74,82,0.2) 100%);border:1px solid rgba(51,153,153,0.3);border-radius:8px;color:#4AECDC;text-decoration:none;font-size:13px;font-weight:600;transition:all 0.2s;" onmouseover="this.style.background='linear-gradient(135deg,rgba(51,153,153,0.3) 0%,rgba(26,74,82,0.3) 100%)';this.style.borderColor='rgba(51,153,153,0.5)'" onmouseout="this.style.background='linear-gradient(135deg,rgba(51,153,153,0.2) 0%,rgba(26,74,82,0.2) 100%)';this.style.borderColor='rgba(51,153,153,0.3)'">ðŸ“Š Dashboard</a>
              <a href="https://innerautodidact.com" target="_blank" style="padding:10px 12px;background:rgba(255,255,255,0.05);border-radius:8px;color:white;text-decoration:none;font-size:13px;transition:all 0.2s;" onmouseover="this.style.background='rgba(255,255,255,0.1)'" onmouseout="this.style.background='rgba(255,255,255,0.05)'">ðŸ  InnerAutodidact</a>
              <a href="https://meauxbility.org" target="_blank" style="padding:10px 12px;background:rgba(255,255,255,0.05);border-radius:8px;color:white;text-decoration:none;font-size:13px;transition:all 0.2s;" onmouseover="this.style.background='rgba(255,255,255,0.1)'" onmouseout="this.style.background='rgba(255,255,255,0.05)'">â™¿ Meauxbility</a>
              <a href="https://inneranimalmedia.com" target="_blank" style="padding:10px 12px;background:rgba(255,255,255,0.05);border-radius:8px;color:white;text-decoration:none;font-size:13px;transition:all 0.2s;" onmouseover="this.style.background='rgba(255,255,255,0.1)'" onmouseout="this.style.background='rgba(255,255,255,0.05)'">ðŸŽ¨ InnerAnimal Media</a>
              <a href="https://dash.cloudflare.com" target="_blank" style="padding:10px 12px;background:rgba(255,255,255,0.05);border-radius:8px;color:white;text-decoration:none;font-size:13px;transition:all 0.2s;" onmouseover="this.style.background='rgba(255,255,255,0.1)'" onmouseout="this.style.background='rgba(255,255,255,0.05)'">âš™ï¸ Cloudflare Dashboard</a>
            </div>
          </div>
          <div style="background:rgba(255,255,255,0.05);border-radius:12px;padding:12px;border:1px solid rgba(255,255,255,0.1);">
            <div style="font-weight:600;font-size:12px;color:rgba(255,255,255,0.7);margin-bottom:8px;text-transform:uppercase;letter-spacing:0.5px;">ðŸ” AI Search Agent</div>
            <div style="display:flex;gap:8px;margin-bottom:8px;">
              <input type="text" id="cf-ai-search" placeholder="Ask anything..." style="flex:1;padding:10px 12px;background:rgba(255,255,255,0.1);border:1px solid rgba(255,255,255,0.2);border-radius:8px;color:white;font-size:13px;outline:none;" onkeypress="if(event.key==='Enter') handleAISearch(event.target.value)">
              <button onclick="handleAISearch(document.getElementById('cf-ai-search').value)" style="padding:10px 16px;background:linear-gradient(135deg,#F6821F 0%,#FF6B35 100%);border:none;border-radius:8px;color:white;cursor:pointer;font-weight:600;font-size:13px;">Search</button>
            </div>
            <div id="cf-ai-results" style="max-height:200px;overflow-y:auto;display:none;margin-top:8px;padding:8px;background:rgba(0,0,0,0.2);border-radius:8px;font-size:12px;line-height:1.5;color:rgba(255,255,255,0.9);"></div>
          </div>
          <div style="background:rgba(255,255,255,0.05);border-radius:12px;padding:12px;border:1px solid rgba(255,255,255,0.1);">
            <div style="font-weight:600;font-size:12px;color:rgba(255,255,255,0.7);margin-bottom:8px;text-transform:uppercase;letter-spacing:0.5px;">Theme</div>
            <select id="cf-theme-select" style="width:100%;padding:10px 12px;background:rgba(255,255,255,0.1);border:1px solid rgba(255,255,255,0.2);border-radius:8px;color:white;font-size:13px;cursor:pointer;outline:none;margin-bottom:8px;" onchange="handleThemeChange(this.value)">
              <option value="auto">Auto (System)</option>
              <option value="light">Light</option>
              <option value="dark">Dark</option>
              <option value="dark-high-contrast">Dark High Contrast</option>
              <option value="dark-fluorescent">Dark Fluorescent</option>
              <option value="dark-blue">Dark Blue</option>
              <option value="dark-green">Dark Green</option>
              <option value="dark-purple">Dark Purple</option>
            </select>
            <div style="font-size:11px;color:rgba(255,255,255,0.5);">Changes apply sitewide</div>
          </div>
        </div>
        <div style="padding:12px 20px;border-top:1px solid rgba(255,255,255,0.1);background:rgba(0,0,0,0.2);font-size:11px;color:rgba(255,255,255,0.5);text-align:center;">MeauxAccess â€¢ InnerAnimalMedia</div>
      </div>
    </div>
    
    
    <script>
    (function(){
      const t=document.getElementById('cf-toolbar'),
            b=document.getElementById('cf-toolbar-toggle'),
            p=document.getElementById('cf-toolbar-panel'),
            c=document.getElementById('cf-toolbar-close');
      let o=!1;
      function toggle(){
        o=!o;
        p.style.display=o?'flex':'none';
        b.style.transform=o?'rotate(180deg)':'rotate(0deg)';
      }
      if(b) b.addEventListener('click',toggle);
      if(c) c.addEventListener('click',toggle);
      document.addEventListener('click',e=>{
        if(o&&t&&!t.contains(e.target)) toggle();
      });
      const themes={
        auto:{css:''},
        light:{css:`:root{--cf-bg:#fff;--cf-surface:#f8f9fa;--cf-text:#1a1a1a;--cf-text-muted:#6b7280;--cf-border:#e5e7eb;--cf-accent:#3b82f6}`},
        dark:{css:`:root{--cf-bg:#0f172a;--cf-surface:#1e293b;--cf-text:#f1f5f9;--cf-text-muted:#94a3b8;--cf-border:#334155;--cf-accent:#3b82f6}`},
        'dark-high-contrast':{css:`:root{--cf-bg:#000;--cf-surface:#1a1a1a;--cf-text:#fff;--cf-text-muted:#b3b3b3;--cf-border:#333;--cf-accent:#00ff00}`},
        'dark-fluorescent':{css:`:root{--cf-bg:#0a0a0a;--cf-surface:#1a1a1a;--cf-text:#00ff88;--cf-text-muted:#00cc6a;--cf-border:#00ff88;--cf-accent:#00ff88}`},
        'dark-blue':{css:`:root{--cf-bg:#0a1929;--cf-surface:#132f4c;--cf-text:#e3f2fd;--cf-text-muted:#90caf9;--cf-border:#1e3a5f;--cf-accent:#2196f3}`},
        'dark-green':{css:`:root{--cf-bg:#0a1f0a;--cf-surface:#1a3a1a;--cf-text:#e8f5e9;--cf-text-muted:#a5d6a7;--cf-border:#2e5a2e;--cf-accent:#4caf50}`},
        'dark-purple':{css:`:root{--cf-bg:#1a0a2e;--cf-surface:#2d1b3d;--cf-text:#f3e5f5;--cf-text-muted:#ce93d8;--cf-border:#4a2c5a;--cf-accent:#9c27b0}`}
      };
      function applyTheme(n){
        const e=document.getElementById('cf-theme-style');
        if(e) e.remove();
        if(n==='auto'){
          const t=window.matchMedia('(prefers-color-scheme: dark)').matches;
          n=t?'dark':'light';
        }
        const r=themes[n];
        if(!r) return;
        const s=document.createElement('style');
        s.id='cf-theme-style';
        s.textContent=r.css;
        document.head.appendChild(s);
        localStorage.setItem('cf-theme',n);
        const i=document.getElementById('cf-theme-select');
        if(i) i.value=localStorage.getItem('cf-theme')||'auto';
      }
      window.handleThemeChange=function(n){applyTheme(n);};
      const saved=localStorage.getItem('cf-theme')||'auto';
      const sel=document.getElementById('cf-theme-select');
      if(sel){
        sel.value=saved;
        applyTheme(saved);
      }
      window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change',e=>{
        if(localStorage.getItem('cf-theme')==='auto') applyTheme('auto');
      });
      window.handleAISearch=async function(query){
        if(!query||!query.trim()) return;
        const results=document.getElementById('cf-ai-results');
        const input=document.getElementById('cf-ai-search');
        results.style.display='block';
        results.innerHTML='<div style="color:rgba(255,255,255,0.7);">Searching...</div>';
        try{
          const res=await fetch('/api/ai/search',{
            method:'POST',
            headers:{'Content-Type':'application/json'},
            body:JSON.stringify({query:query.trim()})
          });
          const data=await res.json();
          if(data.success){
            results.innerHTML='<div style="color:#60DFDF;font-weight:600;margin-bottom:8px;">AI Response:</div><div>'+data.response.replace(/\n/g,'<br>')+'</div>';
          }else{
            results.innerHTML='<div style="color:rgba(255,100,100,0.9);">Error: '+data.error+'</div>';
          }
        }catch(err){
          results.innerHTML='<div style="color:rgba(255,100,100,0.9);">Search unavailable. Please try again.</div>';
        }
      };
    })();
    </script>
    
</body>

</html>